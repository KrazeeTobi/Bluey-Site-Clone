!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=49)}([function(t,e,n){n(44)("asyncIterator")},function(t,e,n){"use strict";var i=n(4),o=n(6),s=n(10),r=n(14),a=n(16),l=n(67).KEY,h=n(13),u=n(19),c=n(30),f=n(15),p=n(3),d=n(45),y=n(44),g=n(68),m=n(69),v=n(12),b=n(9),w=n(11),O=n(25),P=n(22),k=n(38),S=n(70),C=n(31),x=n(8),_=n(17),j=C.f,B=x.f,T=S.f,M=i.Symbol,D=i.JSON,E=D&&D.stringify,X=p("_hidden"),A=p("toPrimitive"),H={}.propertyIsEnumerable,R=u("symbol-registry"),I=u("symbols"),G=u("op-symbols"),Y=Object.prototype,F="function"==typeof M,L=i.QObject,V=!L||!L.prototype||!L.prototype.findChild,z=s&&h(function(){return 7!=k(B({},"a",{get:function(){return B(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=j(Y,e);i&&delete Y[e],B(t,e,n),i&&t!==Y&&B(Y,e,i)}:B,N=function(t){var e=I[t]=k(M.prototype);return e._k=t,e},W=F&&"symbol"==typeof M.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof M},$=function(t,e,n){return t===Y&&$(G,e,n),v(t),e=O(e,!0),v(n),o(I,e)?(n.enumerable?(o(t,X)&&t[X][e]&&(t[X][e]=!1),n=k(n,{enumerable:P(0,!1)})):(o(t,X)||B(t,X,P(1,{})),t[X][e]=!0),z(t,e,n)):B(t,e,n)},q=function(t,e){v(t);for(var n,i=g(e=w(e)),o=0,s=i.length;s>o;)$(t,n=i[o++],e[n]);return t},K=function(t){var e=H.call(this,t=O(t,!0));return!(this===Y&&o(I,t)&&!o(G,t))&&(!(e||!o(this,t)||!o(I,t)||o(this,X)&&this[X][t])||e)},J=function(t,e){if(t=w(t),e=O(e,!0),t!==Y||!o(I,e)||o(G,e)){var n=j(t,e);return!n||!o(I,e)||o(t,X)&&t[X][e]||(n.enumerable=!0),n}},U=function(t){for(var e,n=T(w(t)),i=[],s=0;n.length>s;)o(I,e=n[s++])||e==X||e==l||i.push(e);return i},Q=function(t){for(var e,n=t===Y,i=T(n?G:w(t)),s=[],r=0;i.length>r;)!o(I,e=i[r++])||n&&!o(Y,e)||s.push(I[e]);return s};F||(a((M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===Y&&e.call(G,n),o(this,X)&&o(this[X],t)&&(this[X][t]=!1),z(this,t,P(1,n))};return s&&V&&z(Y,t,{configurable:!0,set:e}),N(t)}).prototype,"toString",function(){return this._k}),C.f=J,x.f=$,n(47).f=S.f=U,n(23).f=K,n(46).f=Q,s&&!n(21)&&a(Y,"propertyIsEnumerable",K,!0),d.f=function(t){return N(p(t))}),r(r.G+r.W+r.F*!F,{Symbol:M});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)p(Z[tt++]);for(var et=_(p.store),nt=0;et.length>nt;)y(et[nt++]);r(r.S+r.F*!F,"Symbol",{for:function(t){return o(R,t+="")?R[t]:R[t]=M(t)},keyFor:function(t){if(!W(t))throw TypeError(t+" is not a symbol!");for(var e in R)if(R[e]===t)return e},useSetter:function(){V=!0},useSimple:function(){V=!1}}),r(r.S+r.F*!F,"Object",{create:function(t,e){return void 0===e?k(t):q(k(t),e)},defineProperty:$,defineProperties:q,getOwnPropertyDescriptor:J,getOwnPropertyNames:U,getOwnPropertySymbols:Q}),D&&r(r.S+r.F*(!F||h(function(){var t=M();return"[null]"!=E([t])||"{}"!=E({a:t})||"{}"!=E(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e=i[1],(b(e)||void 0!==t)&&!W(t))return m(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!W(e))return e}),i[1]=e,E.apply(D,i)}}),M.prototype[A]||n(7)(M.prototype,A,M.prototype.valueOf),c(M,"Symbol"),c(Math,"Math",!0),c(i.JSON,"JSON",!0)},function(t,e,n){var i=n(14);i(i.S,"Object",{setPrototypeOf:n(71).set})},function(t,e,n){var i=n(19)("wks"),o=n(15),s=n(4).Symbol,r="function"==typeof s;(t.exports=function(t){return i[t]||(i[t]=r&&s[t]||(r?s:o)("Symbol."+t))}).store=i},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var i=n(31),o=n(41),s=n(6),r=n(14),a=n(9),l=n(12);r(r.S,"Reflect",{get:function t(e,n){var r,h,u=arguments.length<3?e:arguments[2];return l(e)===u?e[n]:(r=i.f(e,n))?s(r,"value")?r.value:void 0!==r.get?r.get.call(u):void 0:a(h=o(e))?t(h,n,u):void 0}})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(8),o=n(22);t.exports=n(10)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(12),o=n(33),s=n(25),r=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(i(t),e=s(e,!0),i(n),o)try{return r(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(13)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(53),o=n(35);t.exports=function(t){return i(o(t))}},function(t,e,n){var i=n(9);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(4),o=n(20),s=n(7),r=n(16),a=n(36),l=function(t,e,n){var h,u,c,f,p=t&l.F,d=t&l.G,y=t&l.S,g=t&l.P,m=t&l.B,v=d?i:y?i[e]||(i[e]={}):(i[e]||{}).prototype,b=d?o:o[e]||(o[e]={}),w=b.prototype||(b.prototype={});for(h in d&&(n=e),n)c=((u=!p&&v&&void 0!==v[h])?v:n)[h],f=m&&u?a(c,i):g&&"function"==typeof c?a(Function.call,c):c,v&&r(v,h,c,t&l.U),b[h]!=c&&s(b,h,f),g&&w[h]!=c&&(w[h]=c)};i.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(4),o=n(7),s=n(6),r=n(15)("src"),a=n(55),l=(""+a).split("toString");n(20).inspectSource=function(t){return a.call(t)},(t.exports=function(t,e,n,a){var h="function"==typeof n;h&&(s(n,"name")||o(n,"name",e)),t[e]!==n&&(h&&(s(n,r)||o(n,r,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[r]||a.call(this)})},function(t,e,n){var i=n(39),o=n(29);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){var i=n(8).f,o=Function.prototype,s=/^\s*function ([^ (]*)/;"name"in o||n(10)&&i(o,"name",{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},function(t,e,n){var i=n(20),o=n(4),s=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return s[t]||(s[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(21)?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=!1},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){e.f={}.propertyIsEnumerable},function(t){t.exports={a:"Bluey: Keepy Uppy",c:"1.0.0",b:"https://example.com/"}},function(t,e,n){var i=n(9);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports={}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(19)("keys"),o=n(15);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(8).f,o=n(6),s=n(3)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,s)&&i(t,s,{configurable:!0,value:e})}},function(t,e,n){var i=n(23),o=n(22),s=n(11),r=n(25),a=n(6),l=n(33),h=Object.getOwnPropertyDescriptor;e.f=n(10)?h:function(t,e){if(t=s(t),e=r(e,!0),l)try{return h(t,e)}catch(t){}if(a(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){"use strict";var i=n(51),o=n(52),s=n(26),r=n(11);t.exports=n(54)(Array,"Array",function(t,e){this._t=r(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},function(t,e,n){t.exports=!n(10)&&!n(13)(function(){return 7!=Object.defineProperty(n(34)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(9),o=n(4).document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(37);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(12),o=n(57),s=n(29),r=n(28)("IE_PROTO"),a=function(){},l=function(){var t,e=n(34)("iframe"),i=s.length;for(e.style.display="none",n(61).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[s[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(a.prototype=i(t),n=new a,a.prototype=null,n[r]=t):n=l(),void 0===e?n:o(n,e)}},function(t,e,n){var i=n(6),o=n(11),s=n(58)(!1),r=n(28)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),l=0,h=[];for(n in a)n!=r&&i(a,n)&&h.push(n);for(;e.length>l;)i(a,n=e[l++])&&(~s(h,n)||h.push(n));return h}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(6),o=n(42),s=n(28)("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},function(t,e,n){var i=n(35);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return h});n(0),n(1),n(5),n(2),n(18);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function s(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=a(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(e){function n(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,a(n).call(this,{key:"SplashScreen",pack:{files:[{key:"splash-screen",type:"image"},{key:"progress-bar",type:"image"},{key:"progress-bg",type:"image"}]}}))}var i,h,u;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(n,Phaser.Scene),i=n,(h=[{key:"preload",value:function(){this.showCover(),this.setupRotationHandling(),this.setupiOS8BrowserCompatability();this.load.json("data","gamedata.json"),this.load.bitmapFont("HelloHeadline","fonts/helloheadline.png","fonts/helloheadline.xml")}},{key:"setupRotationHandling",value:function(){this.createRotateMessage(),this.startedInPortrait=this.scene.scene.scale.orientation===Phaser.Scale.PORTRAIT,this.startedInPortrait||this.hideOrientationMessage(),this.scene.scene.scale.refresh();var t=this;this.scene.scene.scale.on("orientationchange",function(e){e===Phaser.Scale.PORTRAIT?t.showOrientationMessage():e===Phaser.Scale.LANDSCAPE&&t.hideOrientationMessage()})}},{key:"setupiOS8BrowserCompatability",value:function(){if(this.scene.systems.game.device.os.iOS)if(8===this.scene.systems.game.device.os.iOSVersion){var t=this;this.scene.scene.scale.on("resize",function(e,n,i,o){t.gameResized()}),this.makeFullScreenMessage(),this.makeFullScreenMessageBG(),this.gameResized()}else this.scene.scene.scale.refresh()}},{key:"create",value:function(){this.showProgressBar(),this.scene.scene.scale.refresh(),this.load.image("logo"),this.load.image("startBtn","play_btn_lrg.png"),this.load.image("playBtn","play_btn_small.png"),this.load.image("bandit","bandit_static.png"),this.load.image("bingo","bingo_static.png"),this.load.image("score_box"),this.load.image("score_popup"),this.load.image("blank"),this.load.image("hand","help_hand.png"),this.load.image("titleBG","splash-screen.png"),this.load.image("pauseBtn","pause_btn.png"),this.load.image("pause_popup"),this.load.image("popup"),this.load.image("sound_on","sound_btn_on.png"),this.load.image("sound_off","sound_btn_off.png"),this.load.image("helpBtn","help_btn.png"),this.gameConfig=this.cache.json.get("data").gameConfig,this.spineData=this.cache.json.get("data").spineData,this.sounds=this.cache.json.get("data").soundConfig,this.idleSFX=this.cache.json.get("data").idleSFX,this.helpConfig=this.cache.json.get("data").helpConfig,this.load.atlas("sprites","spritesheets/keepyuppy_sprites.png","spritesheets/keepyuppy_sprites.json");for(var t=0;t<this.helpConfig.steps.length;t++)this.load.image(this.helpConfig.steps[t].image);for(var e=this.idleSFX.length,n=0;n<e;n++){var i=this.idleSFX[n],o="sound/"+i+".ogg",s="sound/"+i+".mp3";this.load.audio(i,[o,s])}for(var r=this.sounds.length,a=0;a<r;a++){var l=this.sounds[a];if(void 0!==l.variants)for(var h=0;h<l.variants;h++){var u="sound/"+l.file+(h+1)+".ogg",c="sound/"+l.file+ +(h+1)+".mp3";this.load.audio(l.name+(h+1),[u,c])}else{var f="sound/"+l.file+".ogg",p="sound/"+l.file+".mp3";this.load.audio(l.name,[f,p])}}for(var d=0;d<this.gameConfig.backgrounds.length;d++)this.load.image(this.gameConfig.backgrounds[d].name,this.gameConfig.backgrounds[d].file);this.load.setPath("assets/spine");for(var y=this.spineData.length,g=0;g<y;g++){var m=this.spineData[g].key,v=this.spineData[g].atlas,b=this.spineData[g].data,w=this.scene.systems.game.device.os.pixelRatio;window.spriteScaler=1,w<=1&&!this.scene.systems.game.device.os.desktop&&(window.spriteScaler=3,v=this.spineData[g].atlas_1x,m=this.spineData[g].key_1x,b=this.spineData[g].data_1x),this.load.spine(m,b,v)}this.load.on("complete",this.loadComplete,this),this.load.start()}},{key:"loadComplete",value:function(){this.scene.start("Title")}},{key:"showCover",value:function(){this.splash=this.add.image(0,0,"splash-screen").setOrigin(0),this.progressBG=this.add.image(568,320,"progress-bg").setOrigin(.5)}},{key:"showProgressBar",value:function(){var t=this.textures.get("progress-bar").get(),e=t.width,n=t.height,i=this.add.sprite(568-e/2,320,"progress-bar").setOrigin(0,.5);this.load.on("progress",function(t){return i.setCrop(0,0,Math.ceil(t*e),n)})}},{key:"createRotateMessage",value:function(){this.scene.systems.game.device.os.desktop||(this._errorMsgDiv=$("<div id='rotateMessage' />"),$("body").append(this._errorMsgDiv),this.scene.systems.game.device.os.iPad?this._errorMsgDiv.css({"background-image":"url('orientation/orientation_ipad.jpg')"}):this._errorMsgDiv.css({"background-image":"url('orientation/orientation.jpg')"}))}},{key:"showOrientationMessage",value:function(){8===this.scene.systems.game.device.os.iOSVersion&&this.hideNonFullScreenMessage(),$("#rotateMessage").addClass("showMessage"),$("#rotateMessage").removeClass("hideMessage");for(var t=0;t<this.game.scene.scenes.length;++t)this.scene.sleep(this.game.scene.scenes[t].scene.key)}},{key:"hideOrientationMessage",value:function(){$("#rotateMessage").addClass("hideMessage"),$("#rotateMessage").removeClass("showMessage"),this.previousMuteState&&(this.previousMuteState=!1);for(var t=0;t<this.game.scene.scenes.length;++t)this.scene.wake(this.game.scene.scenes[t].scene.key);document.body.scrollTop=0,document.documentElement.scrollTop=0}},{key:"gameResized",value:function(){this.scene.systems.game.device.os.desktop||this.scene.systems.game.device.os.iOS&&this.scene.systems.game.device.os.iPhone&&this.scene.systems.game.device.os.iOSVersion<=8&&this.scene.scene.scale.orientation===Phaser.Scale.LANDSCAPE&&this.lastHeight!=window.innerHeight&&(this.lastHeight=window.innerHeight,this.isMinimalView()||this.scene.scene.scale.refresh())}},{key:"isMinimalView",value:function(){var t=this.deviceSpec();return void 0!==t&&window.innerHeight!==t[4]}},{key:"showNonFullScreenMessage",value:function(){t.scrollTo(0,0),$("#leftFullscreenMessage").removeClass("hideMessage"),$("#fullscreenOverlay").removeClass("hideMessage"),$("#leftFullscreenMessage").addClass("showMessage"),$("#fullscreenOverlay").addClass("showMessage"),this.nonFullScreenMessage.css({width:t.innerWidth+"px",height:2*t.innerHeight+"px"}),this.nonFullScreenMessageBG.css({width:t.innerWidth+"px",height:t.innerHeight+"px"});for(var e=0;e<this.game.scene.scenes.length;++e)this.scene.sleep(this.game.scene.scenes[e].scene.key)}},{key:"hideNonFullScreenMessage",value:function(){$("#leftFullscreenMessage").removeClass("showMessage"),$("#fullscreenOverlay").removeClass("showMessage"),$("#leftFullscreenMessage").addClass("hideMessage"),$("#fullscreenOverlay").addClass("hideMessage");for(var t=0;t<this.game.scene.scenes.length;++t)this.scene.wake(this.game.scene.scenes[t].scene.key)}},{key:"makeFullScreenMessage",value:function(){}},{key:"makeFullScreenMessageBG",value:function(){var t=$("<div id='fullscreenOverlay' />");$("body").append(t),this.nonFullScreenMessageBG=t}},{key:"deviceSpec",value:function(){var t,e,n=[[1280,1762,1920,1280,320,480,2,"iPhone 4"],[1280,2114,2272,1280,320,568,2,"iPhone 5 or 5s"],[1500,2510,2668,1500,375,667,2,"iPhone 6"],[1656,2785,2944,1656,414,736,3,"iPhone 6 plus"],[1500,2509,2668,1500,375,667,3,"iPhone 6 plus (Zoomed)"],[3072,3936,4096,2912,768,1024,1,"iPad 2"],[3072,3938,4096,2914,768,1024,2,"iPad Air or Retina"],[4096,5306,5464,3938,1024,1366,2,"iPad Pro"]];for(t=n.length;t--;)if(window.screen.width===n[t][4]&&window.screen.height===n[t][5]&&window.devicePixelRatio===n[t][6]){e=n[t];break}return e}},{key:"destroy",value:function(){this.gameConfig.destroy(),this.spineData.destroy(),this.sounds.destroy(),this.helpConfig.destroy(),this.splash.destroy(),this.progressBG.destroy(),r(a(n.prototype),"destroy",this).call(this)}}])&&o(i.prototype,h),u&&o(i,u),n}()}).call(this,n(66))},function(t,e,n){var i=n(4),o=n(20),s=n(21),r=n(45),a=n(8).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=s?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:r.f(t)})}},function(t,e,n){e.f=n(3)},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(39),o=n(29).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){"use strict";var i=n(14),o=n(37),s=n(42),r=n(13),a=[].sort,l=[1,2,3];i(i.P+i.F*(r(function(){l.sort(void 0)})||!r(function(){l.sort(null)})||!n(72)(a)),"Array",{sort:function(t){return void 0===t?a.call(s(this)):a.call(s(this),o(t))}})},function(t,e,n){t.exports=n(73)},function(t,e,n){for(var i=n(32),o=n(17),s=n(16),r=n(4),a=n(7),l=n(26),h=n(3),u=h("iterator"),c=h("toStringTag"),f=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=o(p),y=0;y<d.length;y++){var g,m=d[y],v=p[m],b=r[m],w=b&&b.prototype;if(w&&(w[u]||a(w,u,f),w[c]||a(w,c,m),l[m]=f,v))for(g in i)w[g]||s(w,g,i[g],!0)}},function(t,e,n){var i=n(3)("unscopables"),o=Array.prototype;null==o[i]&&n(7)(o,i,{}),t.exports=function(t){o[i][t]=!0}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var i=n(27);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var i=n(21),o=n(14),s=n(16),r=n(7),a=n(26),l=n(56),h=n(30),u=n(41),c=n(3)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,y,g,m){l(n,e,d);var v,b,w,O=function(t){if(!f&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},P=e+" Iterator",k="values"==y,S=!1,C=t.prototype,x=C[c]||C["@@iterator"]||y&&C[y],_=x||O(y),j=y?k?O("entries"):_:void 0,B="Array"==e&&C.entries||x;if(B&&(w=u(B.call(new t)))!==Object.prototype&&w.next&&(h(w,P,!0),i||"function"==typeof w[c]||r(w,c,p)),k&&x&&"values"!==x.name&&(S=!0,_=function(){return x.call(this)}),i&&!m||!f&&!S&&C[c]||r(C,c,_),a[e]=_,a[P]=p,y)if(v={values:k?_:O("values"),keys:g?_:O("keys"),entries:j},m)for(b in v)b in C||s(C,b,v[b]);else o(o.P+o.F*(f||S),e,v);return v}},function(t,e,n){t.exports=n(19)("native-function-to-string",Function.toString)},function(t,e,n){"use strict";var i=n(38),o=n(22),s=n(30),r={};n(7)(r,n(3)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(r,{next:o(1,n)}),s(t,e+" Iterator")}},function(t,e,n){var i=n(8),o=n(12),s=n(17);t.exports=n(10)?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),a=r.length,l=0;a>l;)i.f(t,n=r[l++],e[n]);return t}},function(t,e,n){var i=n(11),o=n(59),s=n(60);t.exports=function(t){return function(e,n,r){var a,l=i(e),h=o(l.length),u=s(r,h);if(t&&n!=n){for(;h>u;)if((a=l[u++])!=a)return!0}else for(;h>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){var i=n(40),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e,n){var i=n(40),o=Math.max,s=Math.min;t.exports=function(t,e){return(t=i(t))<0?o(t+e,0):s(t,e)}},function(t,e,n){var i=n(4).document;t.exports=i&&i.documentElement},function(t,e,n){"use strict";var i=n(63),o={};o[n(3)("toStringTag")]="z",o+""!="[object z]"&&n(16)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(27),o=n(3)("toStringTag"),s="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:s?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var i=n(14),o=n(65)(!1);i(i.S,"Object",{values:function(t){return o(t)}})},function(t,e,n){var i=n(17),o=n(11),s=n(23).f;t.exports=function(t){return function(e){for(var n,r=o(e),a=i(r),l=a.length,h=0,u=[];l>h;)s.call(r,n=a[h++])&&u.push(t?[n,r[n]]:r[n]);return u}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(15)("meta"),o=n(9),s=n(6),r=n(8).f,a=0,l=Object.isExtensible||function(){return!0},h=!n(13)(function(){return l(Object.preventExtensions({}))}),u=function(t){r(t,i,{value:{i:"O"+ ++a,w:{}}})},c=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,i)){if(!l(t))return"F";if(!e)return"E";u(t)}return t[i].i},getWeak:function(t,e){if(!s(t,i)){if(!l(t))return!0;if(!e)return!1;u(t)}return t[i].w},onFreeze:function(t){return h&&c.NEED&&l(t)&&!s(t,i)&&u(t),t}}},function(t,e,n){var i=n(17),o=n(46),s=n(23);t.exports=function(t){var e=i(t),n=o.f;if(n)for(var r,a=n(t),l=s.f,h=0;a.length>h;)l.call(t,r=a[h++])&&e.push(r);return e}},function(t,e,n){var i=n(27);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(11),o=n(47).f,s={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return r&&"[object Window]"==s.call(t)?function(t){try{return o(t)}catch(t){return r.slice()}}(t):o(i(t))}},function(t,e,n){var i=n(9),o=n(12),s=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(36)(Function.call,n(31).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return s(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:s}},function(t,e,n){"use strict";var i=n(13);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";n.r(e);var i={};n.r(i),n.d(i,"SplashScreen",function(){return s.a}),n.d(i,"Game",function(){return Z}),n.d(i,"Title",function(){return pt});var o={};n.r(o),n.d(o,"width",function(){return yt}),n.d(o,"height",function(){return gt}),n.d(o,"scale",function(){return mt}),n.d(o,"zoom",function(){return vt}),n.d(o,"resolution",function(){return bt}),n.d(o,"type",function(){return wt}),n.d(o,"pixelArt",function(){return Ot}),n.d(o,"roundPixels",function(){return Pt}),n.d(o,"transparent",function(){return kt}),n.d(o,"parent",function(){return St}),n.d(o,"canvasStyle",function(){return Ct}),n.d(o,"backgroundColor",function(){return xt}),n.d(o,"clearBeforeRender",function(){return _t}),n.d(o,"fps",function(){return jt}),n.d(o,"physics",function(){return Bt}),n.d(o,"loader",function(){return Tt}),n.d(o,"plugins",function(){return Mt}),n.d(o,"title",function(){return dt.a}),n.d(o,"version",function(){return dt.c}),n.d(o,"url",function(){return dt.b}),n.d(o,"scene",function(){return Dt});n(50),n(32),n(62),n(64);var s=n(43);n(0),n(1),n(5),n(2),n(18),n(48);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t,n,i,o,s){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=l(this,h(e).call(this,t,0,0,[]))).offset=.35,r.active=s,r.animating=!1,r.balloon=t.add.image(0,0,"sprites","balloon.png"),r.bWidth=r.balloon.width,r.shade=t.add.image(0,0,"sprites","balloon_texture.png"),r.highlight=t.add.image(0,0,"sprites","balloon_highlight.png"),r.collided=!1;return r.holder=t.add.container(0,12,[r.balloon,r.shade]),r.color=o,r.balloon.tint=o,r.shade.tint=o,r.radius=r.balloon.width,r.clickPoint={x:0,y:0},r.boundsPoint={x:0,y:0},r.transform=t.add.container(0,0,[r.holder,r.highlight]),r.add(r.transform),r.emitter=new Phaser.Events.EventEmitter,r.activeInGame=!0,i-=r.balloon.height/2,r.velX=0,r.velY=0,r.angVel=0,r.gravity=1,r.forceX=0,r.forceY=0,r.bounce=.9,r.swayX=0,r.prevAngle=r.angle,r.setPosition(n,i),r.lastX=n,r.lastY=i,r.circle=new Phaser.Geom.Circle(0,0,0),r.bounds=75,r}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,Phaser.GameObjects.Container),n=e,(i=[{key:"setPhysics",value:function(t,e){this.worldWidth=t.cameras.main.width,this.worldHeight=t.cameras.main.height-e.floor,this.gravityConst=e.gravity,this.impulseX=e.impulseX,this.impulseY=e.impulseY,this.dragX=e.dragX,this.dragY=e.dragY,this.angDrag=e.angDrag,this.bounce=e.bounce,this.swayAmp=e.swayAmp,this.swaySpeed=e.swaySpeed,this.collideBounce=e.collideBounce,this.heightBonus=e.heightBonus,this.swayOffset=Phaser.Math.Between(0,3143),this.swayAcc=e.swayAcc,this.shadow=t.add.image(this.x,this.worldHeight,"sprites","balloon_shadow.png"),this.shadow.setOrigin(.5,1),this.shadow.tint="#000000",this.shadow.alpha=.6,this.shadowHeight=this.shadow.displayHeight,this.lastVelX=0,this.lastVelY=0,this.transform.angle=180}},{key:"stop",value:function(){this.activeInGame=!1,this.balloon.off("pointerdown"),this.emitter.off("balloonClicked")}},{key:"update",value:function(t,e,n,i){if(this.active&&!this.animating){this.lastX=this.x,this.lastY=this.y;var o=this.x,s=this.y;this.gravity=i*e,this.swayX=this.lerp(this.swayX,Math.sin(this.swayOffset+n*this.swaySpeed)*this.swayAmp*this.clamp01(1-Math.abs(this.forceX)),.0015*e),this.velY+=this.gravity+this.forceY,this.velX+=this.swayX+this.forceX,s+=this.velY,o+=this.velX,this.forceY*=this.dragY,this.forceX*=this.dragX,this.velY=0,this.velX=0,this.x=o,this.y=s;var r=this.radius,a=this.radius;this.clickPoint=this.rotateAroundPoint(this.holder.x,this.holder.y,this.transform.angle);var l=this.clickPoint.x+this.x,h=this.clickPoint.y+this.y;l+r/2>this.worldWidth?(this.x=this.worldWidth-(r/2+1),this.forceX=(this.forceX+this.swayX)*this.bounce*-1,this.triggerCollision()):l-r/2<0&&(this.x=r/2-1,this.forceX=(this.forceX+this.swayX)*this.bounce*-1,this.triggerCollision()),h+a/2>this.worldHeight?(this.y=this.worldHeight-a/2,this.active=!1,this.angVel=0,!0===this.activeInGame&&this.pop()):h-a/2<0&&(this.y=a/2+1,this.forceY=this.forceY*this.bounce*-1,this.triggerCollision()),this.collided=!1;for(var u=this.radius*this.radius,c=0;c<t.length;++c)if(t[c]!==this){var f=l-(t[c].clickPoint.x+t[c].x),p=h-(t[c].clickPoint.y+t[c].y),d=new Phaser.Math.Vector2(f,p),y=d.lengthSq();if(d.normalize(),y<u)return this.triggerCollision(),this.forceX+=d.x*this.collideBounce,this.forceY+=Math.min(0,d.y)*this.collideBounce,t[c].forceX+=-d.x*this.collideBounce,t[c].forceY+=Math.min(0,-d.y)*this.collideBounce,t[c].collided=!0,void(this.collided=!0)}}var g=this.smoothstep(this.worldHeight-200,this.worldHeight-50,this.y);this.shadow.x=this.transform.x+this.x,this.shadow.setDisplaySize(this.radius*g,this.shadowHeight*g),this.shadow.alpha=.6*this.clamp01(g+.2),this.angVel*=this.angDrag,this.transform.angle+=this.angVel,this.circle.x=this.clickPoint.x+this.x,this.circle.y=this.clickPoint.y+this.y,this.circle.radius=this.bounds}},{key:"triggerCollision",value:function(){this.activeInGame&&this.emitter.emit("collided")}},{key:"transitionOut",value:function(t,e,n){void 0!==this.transition&&this.transition.stop(),this.forceX=0,this.forceY=0,this.angVel*=2,this.animating=!0,this.transform.x=0,this.transform.y=0;var i=this.worldWidth*n,o=-this.worldHeight/2,s=e*(Phaser.Math.Between(75,100)/100);this.active=!1,this.transition=t.tweens.add({targets:this.transform,x:i,duration:s,props:{x:{value:i,duration:s,ease:"Back.easeIn"},y:{value:o,duration:s,ease:"Back.easeIn"}}})}},{key:"transitionIn",value:function(t,e,n){var i=this;void 0!==this.transition&&this.transition.stop();var o=this.worldHeight/2;this.animating=!0,this.active=!1,this.transform.x=-this.worldWidth*n,this.transform.y=-o,this.y>=o/2&&(this.y-=this.heightBonus);var s=Phaser.Math.Between(50,100)/100,r=e*s,a=e*(1-s);this.angVel=.1*Phaser.Math.Between(-500,500),this.transition=t.tweens.add({targets:this.transform,x:0,y:0,duration:r,delay:a,ease:"Power2",onComplete:function(){i.active=!0,i.animating=!1,i.transform.setPosition(0,0),i.velX=0,i.velY=0,i.swayX=0,i.gravity=0}})}},{key:"togglePause",value:function(t){void 0!==this.transition&&this.transition.isPlaying()&&(1==t?this.transition.pause():this.transition.resume())}},{key:"setActive",value:function(t){this.active=t}},{key:"clamp01",value:function(t){return this.clamp(t,0,1)}},{key:"clamp",value:function(t,e,n){return Math.min(Math.max(e,t),n)}},{key:"smoothstep",value:function(t,e,n){var i=this.clamp01((n-t)/(e-t));return i*i*(3-2*i)}},{key:"lerp",value:function(t,e,n){return(1-n)*t+n*e}},{key:"wrap",value:function(t,e){return t%e}},{key:"handleBalloonClicked",value:function(t){if(!this.animating&&!0===this.active){this.active=!0;var e=this.balloon.displayWidth;this.forceY+=this.impulseY;var n=Math.abs(t.x-(this.clickPoint.x+this.x));t.x<this.x?this.forceX+=this.impulseX*(n/e/2):this.forceX-=this.impulseX*(n/e/2),this.angVel=this.forceX/40*50,this.transform.angle=this.wrap(90+180*Math.atan2(this.forceY,this.forceX)/3.141,360),this.emitter.emit("balloonClicked")}}},{key:"checkTap",value:function(t){var e=this.clickPoint.x+this.x-t.x,n=this.clickPoint.y+this.y-t.y;Math.sqrt(e*e+n*n)<=this.bounds&&this.handleBalloonClicked(t)}},{key:"pop",value:function(){this.emitter.emit("gameOver",{x:this.x,y:this.worldHeight,tint:this.color}),this.shadow.destroy(),this.destroy()}},{key:"rotateAroundPoint",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=.01745*n,r=Math.sin(s),a=Math.cos(s);return{x:(t-=i)*a-(e-=o)*r+i,y:t*r+e*a+o}}}])&&a(n.prototype,i),o&&a(n,o),e}();function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=g(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var v=function(t){function e(t,n,i){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s,r,a=t.cameras.main.width,l=t.cameras.main.height;s=this,r=g(e).call(this,t,a/2,l/2,"score_popup"),(o=!r||"object"!==f(r)&&"function"!=typeof r?d(s):r).setDepth(30),o.overlay=t.add.image(0,0,"white"),o.overlay.setOrigin(0,0),o.overlay.setDisplaySize(a,l),o.overlay.setDepth(o.depth-5),n.add(o.overlay,!0),o.overlay.tint="#000000",o.overlay.alpha=0,o.scene=t,o.config=i,o.setOrigin(.5),o.scaleX=1.2,o.scaleY=1.2,o.alpha=0,n.add(d(o),!0);var h=t.totalCount>0?o.config.titleCopy.success:o.config.titleCopy.failure;return o.title=t.add.bitmapText(t.cameras.main.width/2,t.cameras.main.height/2-160,"HelloHeadline",h),o.title.setFontSize(70),o.title.setOrigin(.5),n.add(o.title),o.title.alpha=0,o.title.setDepth(o.depth+1),o.score=t.add.bitmapText(t.cameras.main.width/2,t.cameras.main.height/2,"HelloHeadline","score: "+t.totalCount),o.score.setFontSize(60),o.score.setOrigin(.5),n.add(o.score),o.score.alpha=0,o.score.setDepth(o.depth+1),null===localStorage.getItem("highscore")&&localStorage.setItem("highscore",0),t.totalCount>localStorage.getItem("highscore")&&localStorage.setItem("highscore",t.totalCount),o.highScore=t.add.bitmapText(t.cameras.main.width/2,t.cameras.main.height/2+80,"HelloHeadline","High Score: "+localStorage.getItem("highscore")),o.highScore.setFontSize(48),o.highScore.setOrigin(.5),n.add(o.highScore),o.highScore.alpha=0,o.highScore.setDepth(o.depth+1),o.playBtn=t.add.sprite(t.cameras.main.width/2,t.cameras.main.height/2+240,"playBtn"),o.playBtn.setInteractive({useHandCursor:!0}).on("pointerdown",function(){return o.handlePlayButtonDown()}),o.playBtn.alpha=0,o.playBtn.setDepth(o.depth+1),n.add(o.playBtn),t.tweens.add({targets:o.overlay,alpha:.5,ease:"Cubic",duration:300}),t.tweens.add({targets:d(o),scaleX:1,scaleY:1,alpha:1,ease:"Cubic",duration:300}),t.tweens.add({targets:o.title,alpha:1,ease:"Cubic",duration:300,delay:100}),t.tweens.add({targets:o.score,alpha:1,ease:"Cubic",duration:300,delay:200}),t.tweens.add({targets:o.highScore,alpha:1,ease:"Cubic",duration:300,delay:300}),t.tweens.add({targets:o.playBtn,alpha:1,ease:"Cubic",duration:300,delay:400}),o.sting=t.sound.add("sting",{loop:!1,volume:.5}),o.sting.play(),o}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(e,Phaser.GameObjects.Sprite),n=e,(i=[{key:"handlePlayButtonDown",value:function(){this.sting.stop(),this.scene.scene.start("Game",{firstRun:!1,lastBG:this.scene.lastBG})}},{key:"destroy",value:function(){null!==this.sting&&(this.sting.stop(),this.sting=null),this.score.destroy(),this.title.destroy(),this.highScore.destroy(),this.playBtn.destroy(),this.characters=null,y(g(e.prototype),"destroy",this).call(this)}}])&&p(n.prototype,i),o&&p(n,o),e}();function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t,e,n){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var C=function(t){function e(t,n,i,o,s,r){var a,l,h;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),l=this,(a=!(h=k(e).call(this,t,0,0,"blank"))||"object"!==b(h)&&"function"!=typeof h?O(l):h).spineRef=i,a.name=o,a.animations=s,a.idleAnims=s.idles,a.shuffle(a.idleAnims),a.sfx=r,a.defaultMix=.05,a.emitter=new Phaser.Events.EventEmitter,t.add.existing(O(a)),a.ID=n,a.minIdleTime=1500,a.maxIdleTime=2500,a.idleCounter=a.randomRange(0,a.maxIdleTime),a.idleTime=Phaser.Math.Between(a.minIdleTime,a.maxIdleTime),a.spineChar=t.add.spine(0,0,i,a.lastPlayedAnim,!0),a.clickArea=t.add.image(0,0,"blank"),a.clickArea.setOrigin(.5,1),a.setSkin(o),a.lastPlayedAnim=s.default,a.transform=t.add.container(0,0);var u=t.add.container(0,0,[a.spineChar,a.clickArea]);return a.transform.add(u),a.frozen=!1,a.canIdle=!0,a.idleActive=!0,a}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,Phaser.GameObjects.Image),n=e,(i=[{key:"kill",value:function(){this.clickArea.off("pointerdown")}},{key:"wrap",value:function(t){return t%360}},{key:"setTransform",value:function(t,e,n,i,o){var s=t,r=e;this.transform.setPosition(s,r),this.direction=o,this.spineChar.setScale(n*this.direction,i),this.texBounds=this.spineChar.getBounds(),this.charWidth=this.texBounds.size.x*this.spineChar.scaleX,this.charHeight=this.texBounds.size.y*this.spineChar.scaleY,this.clickArea.setDisplaySize(this.charWidth,this.charHeight)}},{key:"updateCharacter",value:function(t,e,n){!0===this.idleActive&&this.updateIdle(n,e)}},{key:"shuffle",value:function(t){t.sort(function(){return Math.random-.5})}},{key:"updateIdle",value:function(t,e){this.idleCounter>=this.idleTime?(this.idleCounter=0,this.idleTime=Phaser.Math.Between(this.minIdleTime,this.maxIdleTime),this.setTimescale(.9,1.1),this.playAnimVariant(t,this.idleAnims)):this.idleCounter+=e}},{key:"setSortOrder",value:function(t){this.spinChar.setDepth(t)}},{key:"randomRange",value:function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?Phaser.Math.Between(t,e):Phaser.Math.Between(100*t,100*e)/100}},{key:"setSkin",value:function(t){this.spineChar.setSkin(null),this.spineChar.setSkinByName(t),this.attachments=this.spineChar.skeleton.skin.attachments}},{key:"playAnim",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(n>0){this.spineChar.setMix(this.animations.default,e,n),this.spineChar.setAnimation(0,e,i,0);var s=this.spineChar.state.getCurrent(0).getAnimationLength()-n;this.spineChar.setMix(e,this.animations.default,n),this.spineChar.addAnimation(0,this.animations.default,!0,s)}this.playing=!0,this.returnToPrevious=o,this.currentAnimation=e}},{key:"reset",value:function(){this.spineChar.clearTracks(),this.spineChar.skeleton.setToSetupPose(),this.spineChar.setAnimation(0,this.animations.default,!0,0)}},{key:"playAnimVariant",value:function(t,e){var n=Phaser.Math.Between(0,e.length-1),i=e[n];this.playAnim(t,e[n],this.defaultMix,!1,!0),this.sfx.hasOwnProperty(i)&&t.sound.play(this.sfx[i])}},{key:"playAnimSFX",value:function(t,e){var n=Phaser.Math.Between(0,e.length-1);t.sound.play(e[n],{volume:.5})}},{key:"playHappy",value:function(t){this.idleCounter=0,this.playAnimVariant(t,this.animations.happy)}},{key:"playCelebrate",value:function(t,e){var n=this;this.idleCounter=0,void 0!==e?t.time.delayedCall(e,function(){return n.playAnimVariant(t,n.animations.celebrate)},this):this.playAnimVariant(t,this.animations.celebrate)}},{key:"playSad",value:function(t){this.idleCounter=0,this.playAnimVariant(t,this.animations.sad)}},{key:"setTimescale",value:function(t,e){var n=100*t,i=100*e,o=Phaser.Math.Between(n,i)/100;this.spineChar.state.timeScale=o}},{key:"togglePause",value:function(t){this.idleActive=!t&&this.canIdle,this.spineChar.state.timeScale=t?0:1}},{key:"handleCharacterClicked",value:function(){this.emitter.emit("characterClicked")}},{key:"destroy",value:function(){this.transform.removeAll(),this.transform=null,this.spineChar.destroy(),this.spineChar=null,this.emitter=null,this.animations=null,P(k(e.prototype),"destroy",this).call(this)}}])&&w(n.prototype,i),o&&w(n,o),e}();function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t,e,n){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=T(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var D=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o,s,r=t.cameras.main.width,a=t.cameras.main.height;o=this,s=T(e).call(this,t,r/2,a/2,"pause_popup"),(i=!s||"object"!==x(s)&&"function"!=typeof s?j(o):s).setDepth(10),i.overlay=t.add.image(0,0,"white"),i.overlay.setOrigin(0,0),i.overlay.setDisplaySize(r,a),i.overlay.setDepth(i.depth-1),i.overlay.tint="#000000",i.overlay.alpha=0,i.scene=t,i.paddingX=100,i.paddingY=230,i.setOrigin(.5),i.scaleX=1.2,i.scaleY=1.2,i.alpha=0,i.active=!1,i.emitter=new Phaser.Events.EventEmitter,n.add(j(i),!0),i.title=t.add.bitmapText(t.cameras.main.width/2,t.cameras.main.height/2-135,"HelloHeadline","Paused");var l=i.title;l.setFontSize(110),l.setOrigin(.5),n.add(l),l.alpha=0,l.setDepth(i.depth+1),i.playBtn=t.add.sprite(t.cameras.main.width/2,t.cameras.main.height/2+30,"startBtn");var h=i.playBtn;h.setInteractive({useHandCursor:!0}).on("pointerdown",function(){return i.handlePlayButtonDown()}),h.alpha=0,n.add(h),h.setDepth(i.depth+1);var u="sound_"+(!1===i.scene.mute?"on":"off");i.muteBtn=t.add.sprite(t.cameras.main.width/2-i.paddingX,t.cameras.main.height/2+i.paddingY,u);var c=i.muteBtn;c.setInteractive({useHandCursor:!0}).on("pointerdown",function(){return i.handleMuteButtonDown()}),c.alpha=0,n.add(c),c.setDepth(i.depth+1),i.helpBtn=t.add.sprite(t.cameras.main.width/2+i.paddingX,t.cameras.main.height/2+i.paddingY,"helpBtn");var f=i.helpBtn;return f.setInteractive({useHandCursor:!0}).on("pointerdown",function(){return i.handleHelpButtonDown()}),f.alpha=0,n.add(f),f.setDepth(i.depth+1),i}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}(e,Phaser.GameObjects.Sprite),n=e,(i=[{key:"show",value:function(t){void 0!==this.btnTween&&(this.btnTween.stop(),this.btnTween=void 0),this.muteBtn.setTexture("sound_"+(!1===this.scene.sound.mute?"on":"off")),this.active=!0,this.scaleX=1.2,this.scaleY=1.2,t.tweens.add({targets:this.overlay,alpha:.5,ease:"Cubic",duration:150}),this.btnTween=t.tweens.add({targets:[this,this.title,this.playBtn,this.muteBtn,this.helpBtn],alpha:1,scaleX:1,scaleY:1,ease:"Cubic",duration:150,onComplete:this.onShown})}},{key:"onShown",value:function(){void 0!==this.emitter&&this.emitter.emit("gamePaused")}},{key:"onHidden",value:function(){}},{key:"hide",value:function(t){t.tweens.add({targets:this.overlay,alpha:0,ease:"Cubic",duration:150}),void 0!==this.btnTween&&(this.btnTween.stop(),this.btnTween=void 0),t.tweens.add({targets:[this,this.title,this.playBtn,this.muteBtn,this.helpBtn],scaleX:1,scaleY:1,alpha:0,ease:"Cubic",duration:150,onComplete:this.onHidden}),this.active=!1}},{key:"handlePlayButtonDown",value:function(){void 0!==this.emitter&&this.emitter.emit("gameResumed"),this.hide(this.scene)}},{key:"handleMuteButtonDown",value:function(){this.scene.toggleMute(!this.scene.mute),this.muteBtn.setTexture("sound_"+(0==this.scene.mute?"on":"off"))}},{key:"handleHelpButtonDown",value:function(){this.hide(this.scene),this.emitter.emit("helpRequested")}},{key:"destroy",value:function(){void 0!==this.btnTween&&(this.btnTween.stop(),this.btnTween=null),this.overlay.destroy(),this.title.destroy(),this.playBtn.destroy(),this.muteBtn.destroy(),this.helpBtn.destroy(),this.emitter.destroy(),B(T(e.prototype),"destroy",this).call(this)}}])&&_(n.prototype,i),o&&_(n,o),e}();function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t,e,n){return(H="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var G=function(t){function e(t,n,i,o){var s,r,a;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),r=this,s=!(a=R(e).call(this,t,n,i,"hand"))||"object"!==E(a)&&"function"!=typeof a?A(r):a,t.add.existing(A(s)),s.scene=t,s.offsetX=.35*s.width,s.offsetY=.35*s.height,s.x+=s.offsetX,s.y+=s.offsetY,s.startScaleX=s.scaleX,s.startScaleY=s.scaleY,s.startX=s.x,s.startY=s.y,s.targetX=o.x,s.targetY=o.y,s.bgWidth=o.width,s.bgHeight=o.height,s.emitter=new Phaser.Events.EventEmitter,s.resetAnims(),s}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&I(t,e)}(e,Phaser.GameObjects.Image),n=e,(i=[{key:"resetAnims",value:function(){this.animIndex=0,this.scaleX=0,this.scaleY=0,this.x=this.startX,this.y=this.startY,void 0!==this.handTween&&(this.handTween.stop(),this.handTween=void 0)}},{key:"setAnims",value:function(t){this.anims=t,this.resetAnims()}},{key:"start",value:function(){this.nextAnim()}},{key:"handleAnimComplete",value:function(){this.animIndex>=this.anims.length-1?(this.emitter.emit("stepComplete"),this.resetAnims()):this.animIndex=(this.animIndex+1)%this.anims.length,this.nextAnim()}},{key:"nextAnim",value:function(){var t=this.anims[this.animIndex];void 0!==this.handTween&&(this.handTween.stop(),this.handTween=void 0);var e=void 0!==t.delay?t.delay:0;"move"===t.type?this.moveHand(t.target.x,t.target.y,t.time,t.easing,e):"tap"===t.type?this.tapHand(t.time,t.easing,e):"scale"===t.type&&this.scaleHand(t.scale,t.scale,t.time,t.easing,e)}},{key:"moveHand",value:function(t,e,n,i,o){var s=this,r=this.targetX+t*this.bgWidth+this.offsetX,a=this.targetY-e*this.bgHeight+this.offsetY;this.handTween=this.scene.tweens.add({targets:this,x:r,y:a,duration:n,ease:i,delay:o,onComplete:function(){s.handleAnimComplete()}})}},{key:"scaleHand",value:function(t,e,n,i,o){var s=this;this.handTween=this.scene.tweens.add({targets:this,scaleX:this.startScaleX*t,scaleY:this.startScaleY*e,duration:n,ease:i,delay:o,onComplete:function(){s.handleAnimComplete()}})}},{key:"tapHand",value:function(t,e,n){var i=this;this.handTween=this.scene.tweens.add({targets:this,scaleX:.85*this.startScaleX,scaleY:.85*this.startScaleY,duration:t,yoyo:!0,ease:e,delay:n,onComplete:function(){i.handleAnimComplete()}})}},{key:"destroy",value:function(){void 0!==this.handTween&&(this.handTween.stop(),this.handTween=void 0),this.scene=null,this.animations=null,H(R(e.prototype),"destroy",this).call(this)}}])&&X(n.prototype,i),o&&X(n,o),e}();function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(t,e,n){return(V="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=z(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var W=function(t){function e(t,n,i){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var s,r,a=t.cameras.main.width,l=t.cameras.main.height;s=this,r=z(e).call(this,t,a/2,l/2,"popup"),(o=!r||"object"!==Y(r)&&"function"!=typeof r?L(s):r).setDepth(30),o.overlay=t.add.image(0,0,"white"),o.overlay.setOrigin(0,0),o.overlay.setDisplaySize(a,l),o.overlay.setDepth(o.depth-5),o.overlay.tint="#000000",o.overlay.alpha=0,o.scene=t,o.paddingX=350,o.paddingY=230,o.setOrigin(.5),o.scaleX=1.2,o.scaleY=1.2,o.alpha=0,o.active=!1,o.emitter=new Phaser.Events.EventEmitter,n.add(L(o),!0);var h=t.cameras.main.width/2,u=t.cameras.main.height/2;o.title=t.add.bitmapText(h,u-185,"HelloHeadline","How To Play");var c=o.title;c.setFontSize(65),c.setOrigin(.5),n.add(c),c.alpha=0,c.setDepth(o.depth+1),o.playBtn=t.add.sprite(h+o.paddingX,u+o.paddingY,"playBtn");var f=o.playBtn;return f.setInteractive({useHandCursor:!0}).on("pointerdown",function(){return o.handlePlayButtonDown()}),f.alpha=0,n.add(f),f.setDepth(o.depth+1),o.bg=t.add.image(h,u+20,i.steps[0].image),o.bg.setDepth(o.depth+2),o.bg.alpha=0,o.animData=i,o.helpIdx=0,o.helpHand=new G(t,h,u+150,o.bg),o.helpHand.emitter.on("stepComplete",function(){return o.nextHelp()},L(o)),n.add(o.helpHand),o.helpHand.setDepth(o.depth+2),o.helpHand.alpha=1,o}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(e,Phaser.GameObjects.Sprite),n=e,(i=[{key:"nextHelp",value:function(){this.bg.setTexture(this.animData.steps[this.helpIdx].image),this.helpHand.setAnims(this.animData.steps[this.helpIdx].anims),this.helpHand.start(),this.helpIdx=(this.helpIdx+1)%this.animData.steps.length}},{key:"show",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];void 0!==this.btnTween&&(this.btnTween.stop(),this.btnTween=void 0),this.active=!0,n?(this.scaleX=1.2,this.scaleY=1.2,t.tweens.add({targets:this.overlay,alpha:.5,ease:"Cubic",duration:150}),this.btnTween=t.tweens.add({targets:[this,this.title,this.playBtn,this.bg],alpha:1,scaleX:1,scaleY:1,ease:"Cubic",duration:150,onComplete:function(){e.onShown()}})):(this.overlay.alpha=.5,this.alpha=1,this.title.alpha=1,this.playBtn.alpha=1,this.bg.alpha=1,this.scaleX=1,this.scaleY=1,this.onShown())}},{key:"onShown",value:function(){void 0!==this.emitter&&this.emitter.emit("gamePaused"),void 0===this.helpHand&&(this.helpHand=new G(this.scene,screenX,screenY+150,this.bg)),this.nextHelp()}},{key:"onHidden",value:function(){this.helpHand.resetAnims()}},{key:"hide",value:function(t){var e=this;t.tweens.add({targets:this.overlay,alpha:0,ease:"Cubic",duration:150}),void 0!==this.btnTween&&(this.btnTween.stop(),this.btnTween=void 0),t.tweens.add({targets:[this,this.title,this.playBtn,this.bg],scaleX:1,scaleY:1,alpha:0,ease:"Cubic",duration:150,onComplete:function(){e.onHidden()}}),this.active=!1}},{key:"handlePlayButtonDown",value:function(){this.scene.paused=!1,void 0!==this.emitter&&this.emitter.emit("gameResumed"),this.hide(this.scene)}},{key:"handleMuteButtonDown",value:function(){this.scene.mute=!this.scene.mute}},{key:"handleHelpButtonDown",value:function(){}},{key:"destroy",value:function(){V(z(e.prototype),"destroy",this).call(this)}}])&&F(n.prototype,i),o&&F(n,o),e}();function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function K(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function J(t,e,n){return(J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=U(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function U(t){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Z=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),K(this,U(e).call(this,{key:"Game"}))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}(e,Phaser.Scene),n=e,(i=[{key:"init",value:function(t){this.firstRun=!1!==t.firstRun,this.lastBG=t.lastBG}},{key:"create",value:function(){var t=this,e=localStorage.getItem("mute");this.mute=void 0!==e&&"true"===e,this.toggleMute(this.mute),this.backgroundGroup=this.add.group(),this.staticChars=this.add.group(),this.characterGroup=this.add.group(),this.balloonGroup=this.add.group(),this.textGroup=this.add.group(),this.popupGroup=this.add.group(),this.gameConfig=this.cache.json.get("data").gameConfig,this.endConfig=this.cache.json.get("data").endConfig,this.helpConfig=this.cache.json.get("data").helpConfig,this.balloonData=this.gameConfig.balloons.physics,this.gravity=this.balloonData.gravity,this.currentGravity=this.gravity,this.gamePlaying=!1,this.level=1,this.transitionCount=this.gameConfig.levelCount[this.level],console.log("transition count",this.transitionCount),this.backgrounds=void 0!==this.lastBG?this.lastBG:Phaser.Math.Between(0,this.gameConfig.backgrounds.length-1),this.balloonColourCount=this.gameConfig.balloons.colours.length,this.balloonIndex=0,this.collisionPlayed=!1,this.characters=[],this.events=[],this.pausedTweens=[],this.setupCharacters(this.gameConfig);for(var n=0;n<2;n++)this.staticChars.create(0,0,"blank");this.changeBackground(),this.transitionDirection=this.gameConfig.backgrounds[this.prevBackgrounds].transitionDirection,console.log(this.backgrounds,this.transitionDirection),this.count=0,this.totalCount=0,this.balloons=[];var i=this.cameras.main.width;this.paused=!1,this.initBalloons(i);var o=this.add.image(20,10,"score_box");o.setOrigin(0,0),o.setDepth(10),this.counter=this.add.bitmapText(o.x+o.displayWidth/2,10+o.y+o.displayHeight/2,this.gameConfig.font,0),this.counter.setOrigin(.5,.5),this.counter.setFontSize(88),this.counter.setCenterAlign(),this.counter.setDepth(o.depth+1),this.textGroup.add(o),this.textGroup.add(this.counter),this.canPlaySFX=!0,this.helpPopup=new W(this,this.popupGroup,this.helpConfig),this.pausePopup=new D(this,this.popupGroup),this.pausePopup.emitter.on("gameResumed",this.handleResumed,this),this.helpPopup.emitter.on("gameResumed",this.handleResumed,this),this.pausePopup.emitter.on("helpRequested",this.showHelp,this),this.pauseBtn=this.add.image(i-10,10,"pauseBtn"),this.pauseBtn.setOrigin(1,0),this.pauseBtn.setInteractive({useHandCursor:!0}).on("pointerdown",function(){!1===t.paused&&(0==t.pausePopup.active&&t.pausePopup.show(t),t.handlePaused())}),this.pauseBtn.setDepth(10),this.input.on("pointerup",function(){return t.inputDown=!1},this),this.idleIdx=0,this.idleSFX=this.cache.json.get("data").idleSFX,this.idleSFX.sort(function(){return Math.random()-.5}),this.bgMusic=this.sound.add("bgmusic",{loop:!0,volume:.75}),this.bgMusic.play(),!0===this.firstRun?this.showHelp(!1):this.gamePlaying=!0}},{key:"initBalloons",value:function(t){if(void 0!==this.gameConfig.balloons.startAmount&&this.gameConfig.balloons.startAmount>1)for(var e=0;e<this.gameConfig.balloons.startAmount;e++){var n=Phaser.Math.Between(150,this.cameras.main.width-150),i=Phaser.Math.Between(150,400);this.createBalloon(n,i,!0)}else this.createBalloon(t/2,150,!0);this.popConfig=this.gameConfig.balloons.popConfig;for(var o=[],s=0;s<this.popConfig.frames.length;s++)o.push({key:this.popConfig.frames[s]});var r=this.anims.generateFrameNames("sprites",{prefix:"pop",start:1,end:4,suffix:".png"}),a={key:this.popConfig.name,frames:r,frameRate:this.popConfig.frameRate};this.anims.create(a),this.input.on("pointerdown",function(t){if(!0!==this.inputDown&&this.gamePlaying){if(!1===this.paused)for(var e=0;e<this.balloons.length;e++)this.balloons[e].checkTap(t);this.inputDown=!0}},this)}},{key:"toggleMute",value:function(t){this.mute=t,localStorage.setItem("mute",this.mute),this.sound.setMute(this.mute)}},{key:"handlePaused",value:function(){this.paused=!0,void 0!==this.endEvent&&(this.endEvent.paused=!0),void 0!==this.bgEvent&&(this.bgEvent.paused=!0);for(var t=0;t<this.characters.length;t++)this.characters[t].togglePause(!0);for(var e=0;e<this.tweens.length;e++){var n=this.tweens[e];n.isPlaying&&(this.pausedTweens.push(n),n.pause())}}},{key:"handleResumed",value:function(){this.paused=!1,this.gamePlaying=!0,void 0!==this.endEvent&&(this.endEvent.paused=!1),void 0!==this.bgEvent&&(this.bgEvent.paused=!1);for(var t=0;t<this.characters.length;t++)this.characters[t].togglePause(!1);for(var e=this.pausedTweens.length-1;e>=0;e--)this.pausedTweens[e].resume(),this.pausedTweens.splice(e)}},{key:"showHelp",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.paused=!0,this.helpPopup.show(this,t)}},{key:"changeBackground",value:function(){void 0!==this.background&&this.background.destroy();var t=0,e=this.staticChars.getChildren();this.background=this.backgroundGroup.create(0,0,this.gameConfig.backgrounds[this.backgrounds].name),this.background.setOrigin(0),this.background.setDepth(-5);for(var n=this.gameConfig.backgrounds[this.backgrounds].characters,i=0;i<n.length;i++){var o=n[i];if("static"===o.type){var s=e[t];s.setTexture(o.name),s.setOrigin(.5,1),s.setPosition(o.posX,o.posY),s.scaleX=o.scale*o.direction,s.scaleY=o.scale,t++}else for(var r=0;r<this.characters.length;r++){var a=this.characters[r];a.spineRef===o.name&&a.setTransform(o.posX,o.posY,o.scale,o.scale,o.direction),a.canIdle=!0,a.idleActive=!0,a.reset()}}var l=this.backgrounds;this.prevBackgrounds=l,this.backgrounds++,this.backgrounds>=this.gameConfig.backgrounds.length&&(this.backgrounds=0),this.backgroundGroup.setDepth(-1,0)}},{key:"createBalloon",value:function(t,e,n){var i=this,o=new c(this,t,e,this.gameConfig.balloons.colours[this.balloonIndex],n);o.setPhysics(this,this.balloonData),o.emitter.on("balloonClicked",function(){!1===i.paused&&i.handleBalloonClicked()},this),o.emitter.on("collided",this.handleBalloonCollision,this),o.emitter.once("gameOver",this.handleGameOver,this),this.balloons.push(o),this.balloonGroup.add(o,!0),this.balloonGroup.setDepth(1,0),this.balloonIndex=(this.balloonIndex+1)%this.balloonColourCount}},{key:"handleBalloonClicked",value:function(){var t=this;if(this.totalCount++,this.count++,this.sound.play("hit"+Phaser.Math.Between(1,3),{detune:Phaser.Math.Between(95,105)/100}),this.counter.text=this.totalCount,this.currentGravity=this.gravity*(1+this.totalCount/750),this.count>=this.transitionCount)this.handleTransition();else if(this.count%3<1){var e=this.characters[Phaser.Math.Between(0,this.characters.length-1)];this.time.delayedCall(Phaser.Math.Between(0,500),function(){return e.playHappy(t)},this),this.playTapSFX()}}},{key:"handleTransition",value:function(){for(var t=this,e=0;e<this.characters.length;e++){var n=this.characters[e];n.canIdle=!1,n.idleActive=!1,n.playCelebrate(this,Phaser.Math.Between(0,500))}this.count=0;for(var i=0;i<this.balloons.length;i++)this.balloons[i].transitionOut(this,2e3,this.transitionDirection);this.sound.play("transition",{volume:.8,delay:.5}),this.bgEvent=this.time.delayedCall(2150,function(){return t.nextBackground()},this),this.level++,this.transitionCount=this.gameConfig.levelCount[this.level],console.log(this.gameConfig.levelCount[this.level],this.gameConfig.levelCount),void 0===this.transitionCount&&(this.transitionCount=this.gameConfig.defaultCount)}},{key:"nextBackground",value:function(){this.changeBackground(),this.transitionDirection=this.gameConfig.backgrounds[this.prevBackgrounds].transitionDirection,console.log(this.gameConfig.backgrounds[this.prevBackgrounds].name+" --\x3e transition direction set to "+this.transitionDirection);var t=Phaser.Math.Between(200,this.cameras.main.width-200),e=Phaser.Math.Between(200,400);this.createBalloon(t,e,!1);for(var n=0;n<this.balloons.length;n++){this.balloons[n].transitionIn(this,2e3,this.transitionDirection)}}},{key:"handleBalloonCollision",value:function(){var t=this;0==this.collisionPlayed&&(this.sound.play("collide",{detune:Phaser.Math.Between(90,125)/100}),this.collisionPlayed=!0,this.time.delayedCall(250,function(){t.collisionPlayed=!1}))}},{key:"playTapSFX",value:function(){var t=this;if(!0===this.canPlaySFX){this.idleSFX[this.idleIdx];this.idleIdx=(this.idleIdx+1)%this.idleSFX.length,this.canPlaySFX=!1,this.time.delayedCall(1500,function(){return t.onSfxAvailable()})}}},{key:"onSfxAvailable",value:function(){this.canPlaySFX=!0}},{key:"update",value:function(t,e){if(!1===this.paused){for(var n=0;n<this.balloons.length;++n)this.balloons[n].update(this.balloons,e,t,this.currentGravity);for(var i=0;i<this.characters.length;i++)this.characters[i].updateCharacter(t,e,this)}}},{key:"handleGameOver",value:function(t){var e=this,n=t.x,i=t.y;this.popEffect=this.add.sprite(n,i).play("balloonPop"),this.popEffect.tint=t.tint;for(var o=0;o<this.balloons.length;++o)this.balloons[o].stop();for(var s=0;s<this.characters.length;s++)this.characters[s].playSad(this);this.gamePlaying=!1,this.sound.play("pop"),this.endEvent=this.time.delayedCall(2e3,function(){return e.outroComplete()})}},{key:"outroComplete",value:function(){this.popEffect.destroy(),this.popEffect=null,this.handlePaused(),this.bgMusic.stop(),this.lastBG=this.backgrounds,this.createGameOverPopup()}},{key:"setupCharacters",value:function(t){for(var e=0;e<t.characters.length;e++){var n=t.characters[e],i=new C(this,e,n.spine,n.skin,n.animations,n.sfx);i.togglePause(!1),this.characterGroup.add(i),this.characters.push(i)}}},{key:"createGameOverPopup",value:function(){void 0!==this.gameOverPopup&&this.gameOverPopup.destroy(),this.gameOverPopup=new v(this,this.popupGroup,this.endConfig),this.popupGroup.add(this.gameOverPopup,!0),this.popupGroup.setDepth(15,0)}},{key:"destroy",value:function(){console.log("Desroy"),null!==this.gameOverPopup&&this.gameOverPopup.destroy(),this.backgroundGroup.destroy(),this.staticChars=null,this.balloonGroup.destroy(),this.textGroup.destroy(),this.gameConfig.destroy(),this.endConfig.destroy(),this.helpConfig.destroy(),this.balloonData.destroy(),this.counter.destroy(),this.characterGroup.destroy(),this.popupGroup.destroy(),this.uiGroup.destroy(),J(U(e.prototype),"destroy",this).call(this)}}])&&q(n.prototype,i),o&&q(n,o),e}();function tt(t){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function it(t,e,n){return(it="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ot(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function st(t,e){return(st=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var rt=function(t){function e(t,n,i,o,s){var r,a,l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),a=this,l=ot(e).call(this,t,n,i,o),(r=!l||"object"!==tt(l)&&"function"!=typeof l?nt(a):l).name=o,t.add.existing(nt(r)),r.setOrigin(.5),r.emitter=new Phaser.Events.EventEmitter,r.setInteractive({useHandCursor:!0}).on("pointerdown",function(){return r.onPress(t,s)}),r}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&st(t,e)}(e,Phaser.GameObjects.Image),n=e,(i=[{key:"onPress",value:function(t,e){t.sound.play("click");var n=this.scaleX,i=this.scaleY;null!=this.pressTween&&(this.pressTween.stop(),this.pressTween=null),this.pressTween=t.tweens.add({targets:this,scaleX:.9*n,scaleY:.9*i,duration:50,yoyo:!0,onComplete:function(){return e()}})}},{key:"destroy",value:function(){null!=this.pressTween&&(this.pressTween.stop(),this.pressTween=null),it(ot(e.prototype),"destroy",this).call(this)}}])&&et(n.prototype,i),o&&et(n,o),e}();function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ht(t,e){return!e||"object"!==at(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ut(t,e,n){return(ut="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ct(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ft(t,e){return(ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var pt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),ht(this,ct(e).call(this,{key:"Title"}))}var n,i,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}(e,Phaser.Scene),n=e,(i=[{key:"init",value:function(){}},{key:"preload",value:function(){}},{key:"create",value:function(){var t=this,e=this.cameras.main.width,n=this.cameras.main.height;this.bg=this.add.image(e/2,n/2,"titleBG"),this.titleImages=[],this.titleElements=this.add.group(),this.titleConfig=this.cache.json.get("data").titleConfig;for(var i=this.titleConfig.images.length,o=0;o<i;o++){var s=this.titleConfig.images[o].x,r=this.titleConfig.images[o].y,a=this.titleConfig.images[o].scale,l=this.add.sprite(s,r,"sprites",this.titleConfig.images[o].name+".png");l.scaleX=a,l.scaleY=a,this.titleImages.push(l),this.titleElements.add(l)}var h=this.titleImages[this.titleImages.length-1],u=h.scaleX,c=h.scaleY;h.scaleX=0,h.scaleY=0,this.tweens.add({targets:h,scaleX:u,scaleY:c,easeParams:[.9,.25],duration:900,delay:100,ease:"Elastic.easeOut"});var f=new rt(this,e/2,n-120,"startBtn",function(){return t.handlePlayButtonDown()});f.alpha=0,this.tweens.add({targets:f,alpha:1,duration:500,delay:1e3,ease:"Quad.easeOut"}),this.title=this.add.bitmapText(e/2,20+n/2,this.titleConfig.title.font,this.titleConfig.title.text),this.title.setFontSize(this.titleConfig.title.size),this.title.setCenterAlign(),this.title.setOrigin(.5)}},{key:"handlePlayButtonDown",value:function(){this.scene.start("Game")}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"shutdown",value:function(){}},{key:"destroy",value:function(){this.playBtn.destroy(),this.titleElements.destroy(),this.title.destroy(),ut(ct(e.prototype),"destroy",this).call(this)}}])&&lt(n.prototype,i),o&&lt(n,o),e}(),dt=n(24),yt=1136,gt=640,mt={mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,max:{width:1136,height:640}},vt=1,bt=1,wt=Phaser.WEBGL,Ot=!1,Pt=!1,kt=!1,St="gameHolder",Ct="display: block; margin: 0 auto;",xt="#000000",_t=!1,jt=20,Bt={default:!1},Tt={path:"assets/"},Mt={global:[],scene:[{key:"SpineWebGLPlugin",plugin:SpineWebGLPlugin,start:!0,sceneKey:"spine"}]},Dt=Object.values(i);function Et(){return new Phaser.Game(o)}n.d(e,"boot",function(){return Et}),Et()}]);
//# sourceMappingURL=app-350806d6023e329994ec.bundle.js.map