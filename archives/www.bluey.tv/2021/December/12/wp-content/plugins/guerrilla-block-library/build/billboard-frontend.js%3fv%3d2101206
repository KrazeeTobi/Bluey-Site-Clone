function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var n,r;this.gbl=this.gbl||{},this.gbl["billboard-frontend"]=(r={},i.m=n={1:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return h}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return r}),n.d(e,"i",function(){return f}),n.d(e,"j",function(){return u}),n.d(e,"k",function(){return s});var r="search-sent",i="response-updated",o="result-clicked",s="values-changed",u="tracking-reset",c="page-close-analytics",a="body-reset-analytics",l="result-clicked-analytics",f="selection-updated",h="options-updated",d="range-updated"},107:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var i=n(29);function r(t,r){return t.reduce(function(t,e){var n;return Object(i.a)({},t,((n={})[e[r]]=(t[e[r]]||[]).concat(e),n))},{})}function o(t,e,n){if(void 0===n&&(n=!0),t===e)return!0;if(null==t||null==e)return!1;if(t.length!==e.length)return!1;for(var r=n?t:t.sort(),i=n?e:e.sort(),o=0;o<r.length;o+=1)if(r[o]!==i[o])return!1;return!0}},108:function(t,e,n){"use strict";var y=n(7),m=n(4),b=n(14),w=n(1),j=n(16);e.a=function(t){return"object"==typeof t&&"pipeline"in t&&"variables"in t?(n=(v=t).pipeline,r=v.variables,f=(a=Object(m.useState)(!1))[0],i=a[1],e=Object(m.useCallback)(function(t){var e;i(!0),""===t?n.clearResponse(r.get()):(t&&r.set(((e={})[b.a.qParam]=t,e)),n.search(r.get()))},[n,r]),a=(v=Object(m.useState)({search:e,error:null,redirects:{}}))[0],o=v[1],Object(m.useEffect)(function(){return e(),n.listen(w.f,function(e){i(!1),o(function(t){return Object(y.a)({},t,{results:null==e?void 0:e.getResults(),latency:null==e?void 0:e.getTime(),totalResults:null==e?void 0:e.getTotalResults(),error:null==e?void 0:e.getError(),redirects:null!=(t=e.getRedirects())?t:{}})})})},[]),Object(m.useEffect)(function(){return r.listen(w.k,function(){e()})},[]),Object(y.a)({},a,{searching:f})):(u=(s=null!=t?t:{}).queryOverride,c=void 0===(g=s.allowEmptySearch)||g,a=(v=Object(m.useState)(null))[0],l=v[1],f=Object(j.b)(),s=(t=f.search).searching,h=t.response,d=t.search,p=(g=f.autocomplete).search,v=g.suggestions,t=g.redirects,f=null==h?void 0:h.getResults(),g=Object(m.useCallback)(function(t){return p(t)},[]),Object(m.useEffect)(function(){void 0!==u?!c&&""===u||d(u):d()},[u]),Object(m.useEffect)(function(){var t;if(h)switch(!0){case h.isError():l(null!=(t=null==(t=h.getError())?void 0:t.error)?t:new Error("Something went wrong. Please try again."));break;case!h.isError():l(null)}},[h]),{latency:null==h?void 0:h.getTime(),totalResults:null==h?void 0:h.getTotalResults(),suggestions:null!=v?v:[],redirects:t,results:f,search:d,searchInstant:g,searching:s,error:a});var n,r,i,e,o,s,u,c,a,l,f,h,d,p,v,g}},109:function(t,e,n){"use strict";var o=n(4),s=n(16);e.a=function(){var t=Object(s.b)().search,n=t.search,r=t.variables,e=t.query,i=t.config;return{query:e,setQuery:Object(o.useCallback)(function(t){var e;r.set(((e={})[i.qParam]=t,e)),n(t)},[n,r])}}},11:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return r}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return i});function r(t){return null==t}function i(t){return"string"==typeof t}function o(t){return"number"==typeof t&&!Number.isNaN(t)}function s(t){return"function"==typeof t}function u(t){return Array.isArray(t)}var c=function(t){var e=typeof t;return null!==t&&("object"==e||"function"==e)&&!u(t)},a=function(t){return u(t)&&0===t.length},l=function(t){return c(t)&&0===Object.keys(t).length};function f(t){return!!r(t)||(u(t)?a(t):c(t)?l(t):!!i(t)&&""===t.trim())}},12:function(t,e,n){"use strict";var r=n(7),a=n(11);n(17);function i(e){void 0===e&&(e="");var n=e;return[","].forEach(function(t){n=function n(t,e,r){return Object(a.g)(e)?t.split(e).join(r):Object.entries(e).reduce(function(t,e){return n(t,e[0],e[1])},t)}(e,t,"\\"+t)}),n}var o=n(107),l=n(1),f=n(8),s=[l.i,l.d],n=function(){function t(t){var e=t.initial,n=void 0===e?[]:e,r=t.joinOperator,i=void 0===r?"OR":r,o=t.multi,s=void 0===o||o,u=t.options,c=void 0===u?{}:u,e=t.array,r=void 0!==e&&e,o=t.name,u=t.field,e=t.group,t=t.count,t=void 0===t?Object(a.b)(c):t;this.current=void 0,this.initial=void 0,this.name=void 0,this.group=void 0,this.field=void 0,this.options=void 0,this.multi=void 0,this.count=void 0,this.array=void 0,this.joinOperator=void 0,this.listeners=void 0,Object(a.g)(n)&&(n=[n]),this.current=n,this.initial=n,this.name=o,this.group=e,this.field=u,this.count=t,this.options=c,this.multi=s,this.array=r,this.joinOperator=i,this.listeners=((i={})[l.i]=new f.a,i[l.d]=new f.a,i)}var e=t.prototype;return e.listen=function(t,e){if(!s.includes(t))throw new Error('Unknown event type "'+t+'"');return this.listeners[t].listen(e)},e.set=function(t,e){var n=this;void 0===e&&(e=!1),e?(e=t.filter(function(t){return!n.current.includes(t)}),this.current=[].concat(this.current,e)):this.current=t,this.emitSelectionUpdated()},e.remove=function(e){this.current=this.current.filter(function(t){return!e.includes(t)}),this.emitSelectionUpdated()},e.isSet=function(t){return this.current.includes(t)},e.setOptions=function(t,e){void 0===e&&(e=!1),this.options=e?Object(r.a)({},this.options,t):t,this.emitOptionsUpdated()},e.getName=function(){return this.name},e.getGroup=function(){return this.group},e.getField=function(){return this.field},e.getCount=function(){return this.count},e.getOptions=function(){return this.options},e.get=function(){return this.current},e.isArray=function(){return this.array},e.isMulti=function(){return this.multi},e.hasChanged=function(){return!Object(o.a)(this.current,this.initial,!1)},e.filter=function(){var n=this,t=this.current.map(function(t){var e=n.options[t];return Object(a.d)(e)&&(e=e()),Object(a.b)(e)||(e=i(e)),n.count&&void 0===e&&t&&(e=n.array?n.field+' ~ ["'+t+'"]':n.field+' = "'+t+'"'),e}).filter(Boolean);return t.length<2?t.join(""):t.map(function(t){return"("+t+")"}).join(" "+this.joinOperator+" ")},e.getBuckets=function(){var n=this;return Object.entries(this.options).map(function(t){var e=t[0],t=t[1];return n.name+"_"+e+":"+t}).join(",")},e.reset=function(t){void 0===t&&(t=!0),Object(o.a)(this.current,this.initial)||(this.current=[].concat(this.initial),t&&this.emitSelectionUpdated())},e.emitSelectionUpdated=function(){this.listeners[l.i].notify(function(t){t()})},e.emitOptionsUpdated=function(){this.listeners[l.d].notify(function(t){t()})},t}();e.a=n},126:function(t,e,n){"use strict";n.r(e);var r=n(34),i=n(16),u=n(2),c=n(108),a=n(109);function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,o=[],s=!0,u=!1;try{for(n=n.call(t);!(s=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);s=!0);}catch(t){u=!0,i=t}finally{try{s||null==n.return||n.return()}finally{if(u)throw i}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(){var t=l(Object(u.useState)(""),2),r=t[0],e=t[1],n=void 0===(i=Object(c.a)().results)?[]:i,i=(t=Object(a.a)()).query,o=t.setQuery,s="search-results";return Object(u.useEffect)(function(){o(r)},[r]),Object(u.useEffect)(function(){if("undefined"!=typeof window){var e=document.querySelector(".gbl-billboard-search"),n=function(t){e.classList.contains("active")&&t.target&&t.target.contains(e)&&e.classList.remove("active")};return document.addEventListener("mousedown",n),function(t){document.removeEventListener("mousedown",n)}}},[]),wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:"sajari-search-field-wrapper",onKeyDown:function(t){"Enter"===t.key&&(location.href="".concat(window.location.protocol,"//").concat(window.location.host,"/").concat(s,"/").concat(r))}},wp.element.createElement("div",null,wp.element.createElement("input",{type:"text",value:r,className:"sajari-search-field",onChange:function(t){return e(t.target.value)}}),wp.element.createElement("a",{href:"/".concat(s,"/").concat(r),className:"sajari-search-button"},wp.element.createElement("svg",{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.46029 16.1216C4.84603 16.1214 0.903198 12.8359 0.903198 8.56448C0.903198 4.29308 4.02461 1.82861 8.46029 1.00739C12.896 0.186172 16.0174 4.39082 16.0174 8.56448C16.0174 9.96119 15.5758 11.2694 14.8528 12.392L19.4704 17.0096C20.1765 17.7157 20.1765 18.8605 19.4704 19.5666C18.7643 20.2727 17.6195 20.2727 16.9134 19.5666L12.281 14.9343C11.0967 15.6859 9.75735 16.1216 8.46029 16.1216ZM8.4032 12.9038C6.25103 12.9037 3.9032 10.9606 3.9032 8.43444C3.9032 5.90827 5.76189 4.45075 8.4032 3.96507C11.0445 3.47939 12.9032 5.96607 12.9032 8.43444C12.9032 10.9028 10.5554 12.9039 8.4032 12.9038Z",fill:"#5A5A87"}))),r&&0<r.length&&wp.element.createElement("button",{className:"sajari-clear-button",onClick:function(){return e("")}},wp.element.createElement("svg",{width:"19",height:"18",viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{d:"M1.9395 1.27851C2.64561 0.57241 3.79043 0.57241 4.49653 1.27851L17.1576 13.9396C17.8637 14.6457 17.8637 15.7905 17.1576 16.4966C16.4515 17.2027 15.3067 17.2027 14.6006 16.4966L1.9395 3.83554C1.2334 3.12944 1.2334 1.98462 1.9395 1.27851Z",fill:"#5A5A87"}),wp.element.createElement("path",{d:"M16.4965 1.27851C15.7904 0.57241 14.6456 0.57241 13.9395 1.27851L1.27842 13.9396C0.572321 14.6457 0.572322 15.7905 1.27843 16.4966C1.98453 17.2027 3.12935 17.2027 3.83545 16.4966L16.4965 3.83554C17.2026 3.12944 17.2026 1.98462 16.4965 1.27851Z",fill:"#5A5A87"})))),wp.element.createElement("button",{onClick:function(){document.querySelector(".gbl-billboard-search").classList.remove("active")},className:"sajari-cancel-button"},"Cancel")),i&&0<n.length&&wp.element.createElement("div",{className:"sajari-search-field-results"},n.map(function(t,e){var n=t.values,t=n.title,n=n.url;return wp.element.createElement("a",{href:n,"aria-label":t,key:e},function(t,e){t=t.replace(" - Bluey Official Website","");return t.toLowerCase().includes(e.toLowerCase())?wp.element.createElement("span",{dangerouslySetInnerHTML:{__html:t.toLowerCase().replace(e.toLowerCase(),"<strong>".concat(e,"</strong>"))}}):wp.element.createElement("span",null,t)}(t,r))})))}document.addEventListener("DOMContentLoaded",function(){var t=new r.a({account:"1602642830786764872",collection:"bluey"},"website"),e=document.querySelector(".wp-admin"),n=document.getElementById("billboard-search-box");!e&&n&&ReactDOM.render(wp.element.createElement(i.a,{search:{pipeline:t},disableDefaultStyles:!0},wp.element.createElement(s,null)),n)})},13:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(t,e,n,r){this.error=void 0,this.queryValues=void 0,this.response=void 0,this.values=void 0,this.error=t,this.queryValues=e,this.response=n,this.values=r}var e=t.prototype;return e.isEmpty=function(){return null===this.error&&void 0===this.response&&void 0===this.values&&void 0===this.queryValues},e.isError=function(){return null!==this.error},e.getError=function(){return this.error},e.getQueryValues=function(){return this.queryValues},e.getResponse=function(){return this.response},e.getValues=function(){return this.values},e.getResults=function(){return void 0!==this.response?this.response.get("results"):void 0},e.getRedirects=function(){return void 0!==this.response?this.response.get("redirects"):void 0},e.getTotalResults=function(){return void 0!==this.response?this.response.get("totalResults"):void 0},e.getTime=function(){return void 0!==this.response?this.response.get("time"):void 0},e.getAggregates=function(){if(void 0!==this.response){var t=this.response.get("aggregates");if(void 0!==t)return t}},e.getAggregateFilters=function(){if(void 0!==this.response){var t=this.response.get("aggregateFilters");if(void 0!==t)return t}},t}()},14:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r={qParam:"q",qOverrideParam:"q.override",qSuggestionsParam:"q.suggestions",resultsPerPageParam:"resultsPerPage",pageParam:"page",maxSuggestions:10,fieldsParam:"fields"}},16:function(t,e,n){"use strict";n.d(e,"b",function(){return p});var _=n(7),L=n(4),N=n.n(L);var r=function(t){void 0===t&&(t={});var e=t.strict,n=void 0===e||e,r=void 0===(e=t.errorMessage)?"useContext must be inside a Provider with a value":e,t=t.name,i=Object(L.createContext)(void 0);return i.displayName=t,[i.Provider,function(){var t=Object(L.useContext)(i);if(!t&&n)throw new Error(r);return t},i]},U=n(11),q=n(14),F=n(1),l=n(8),o=n(12);n(29),n(17);function f(t,e){var n,n=(n=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/.exec((n=e).toString()))?Math.max(0,(n[1]?n[1].length:0)-(n[2]?+n[2]:0)):0;return e=Math.round(t/e)*e,n=n,parseFloat(e.toFixed(n))}var i=n(107),s=[F.e],u=function(){function t(t){var e=t.field,n=t.name,r=t.group,i=t.aggregate,o=void 0===i||i,s=t.initial,u=t.min,c=void 0===u?0:u,i=t.max,u=void 0===i?o?0:100:i,i=t.step,a=void 0===i?1:i,t=t.formatter,t=void 0===t?function(t){return t.map(function(t){return f(t,a)})}:t;this.initial=void 0,this.range=void 0,this.name=void 0,this.group=void 0,this.field=void 0,this.min=void 0,this.max=void 0,this.step=void 0,this.frozen=void 0,this.aggregate=void 0,this.listeners=void 0,this.formatter=void 0,this.initial=void 0===s?o?null:[c,u]:s,this.range=this.initial,this.name=n,this.group=r,this.field=e,this.formatter=t,this.min=c,this.max=u,this.step=a,this.frozen=!1,this.aggregate=o,this.listeners=((o={})[F.e]=new l.a,o)}var e=t.prototype;return e.listen=function(t,e){if(!s.includes(t))throw new Error('Unknown event type "'+t+'"');return this.listeners[t].listen(e)},e.get=function(){return this.range},e.set=function(t,e){void 0===e&&(e=!0),this.frozen||(this.range=t&&this.formatter(t),e&&this.emitRangeUpdated())},e.getName=function(){return this.name},e.getGroup=function(){return this.group},e.getField=function(){return this.field},e.getFrozen=function(){return this.frozen},e.setMin=function(t){this.frozen||(this.min=t)},e.setMax=function(t){this.frozen||(this.max=t)},e.getMinMax=function(){return[this.min,this.max]},e.getStep=function(){return this.step},e.filter=function(){return this.range?this.field+" >= "+this.range[0]+" AND "+this.field+" <= "+this.range[1]:""},e.isAggregate=function(){return this.aggregate},e.setFrozen=function(t){this.frozen=t},e.hasChanged=function(){return this.range&&this.initial?this.range[0]!==this.initial[0]||this.range[1]!==this.initial[1]:this.range===this.initial},e.reset=function(t){void 0===t&&(t=!0),this.frozen||this.initial===this.range||Object(i.a)(this.initial||[],this.range||[])||(Object(U.a)(this.initial)?this.range=[].concat(this.initial):this.range=this.initial,t&&this.emitRangeUpdated())},e.format=function(t){return this.formatter(t)},e.emitRangeUpdated=function(){var e=this;this.listeners[F.e].notify(function(t){t(e)})},t}(),c=function(t){t=t.filter(Boolean);return 1<t.length&&(t=t.map(function(t){return"("+t+")"})),Object(U.c)(t)?"":"ARRAY_MATCH("+t.join(" AND ")+")"};function a(t,e,n){t=t.map(function(t){return{group:t.getGroup(),field:t.getField(),expression:t.filter(),count:t instanceof o.a&&t.getCount()}});"filter"===e&&(t=t.filter(function(t){t=t.expression;return Boolean(t)}));var r=Object.entries(Object(i.b)(t,"group")).filter(function(t){t=t[0];return Boolean(t)}).reduce(function(t,e){var n=e[0],e=e[1];return Object(_.a)({},t,((t={})[n]=e.map(function(t){return t.expression}),t))},{});if("filter"!==e)return t.filter(function(t){var e=t.field,t=t.count;return!Object(U.b)(e)&&t}).map(function(t){var e=t.group,n=t.expression,t=t.count;return e&&!Object(U.b)(r[e])?c(r[e]):t?n:null}).filter(function(t){return null!==t}).join(n);e=t.filter(function(t){var e=t.group,t=t.count;return!e&&!t}).map(function(t){return"("+t.expression+")"});return(t=Object.entries(r).reduce(function(t,e){var n=e[0],e=e[1];return"undefined"===n||Object(U.b)(e)?t:[].concat(t,[c(e)])},[])).concat.apply(t,e).join(n)}var h=[F.i,F.d,F.e];function d(t,e,n){var r=e.getValues(),i=t&&r&&r.get(n.qParam)||"",e=[];return r&&(e=(r.get(n.qSuggestionsParam)||"").split(",").filter(function(t){return 0<t.length}).slice(0,n.maxSuggestions)),{completion:i,query:t,suggestions:e}}function I(t,e,n){var r=e.config,i=e.config.qParam,e=e.redirects,i=t.get()[i]||"";return(r=d(i,n,r)).redirects=Object(_.a)({},e,n.getRedirects()),r}function M(t,e,n){return t=t.get()[n.config.qParam]||"",d(t,e.getResponse(),n.config)}var B=function(t,e){var n;void 0===e&&(e="AND");var r=((n={})[F.i]=new l.a,n[F.d]=new l.a,n[F.e]=new l.a,n),i=[];return t.forEach(function(e){e instanceof o.a&&i.push(e.listen(F.i,function(){r[F.i].notify(function(t){t(e)})}),e.listen(F.d,function(){r[F.d].notify(function(t){t(e)})})),e instanceof u&&i.push(e.listen(F.e,function(){r[F.e].notify(function(t){t(e)})}))}),{filter:function(){return a(t,"filter"," "+e+" ")},listen:function(t,e){if(-1===h.indexOf(t))throw new Error('Unknown event type "'+t+'"');return r[t].listen(e)},buckets:function(){return t.filter(function(t){return t instanceof o.a&&!t.getCount()}).map(function(t){return t instanceof o.a&&t.getBuckets()}).filter(Boolean).join(",")},countFilters:function(){return a(t,"countFilters",",")},count:function(){return t.filter(function(t){return t instanceof o.a&&t.getCount()}).map(function(t){return t instanceof o.a&&t.getField()}).filter(Boolean).join(",")},removeChildFilterListeners:function(){i.forEach(function(t){return t()})},max:function(){return t.filter(function(t){return t instanceof u&&t.isAggregate()}).map(function(t){return t.getField()}).join(",")},min:function(){return t.filter(function(t){return t instanceof u&&t.isAggregate()}).map(function(t){return t.getField()}).join(",")}}},D=n(13),G=n(34),V=n(28),r=r({strict:!0,name:"PipelineContext"}),z=r[0],p=r[1],Q={response:null,query:"",completion:"",suggestions:[],config:q.a,redirects:{}};e.a=function(t){var e,n,r,i=t.children,c=t.search,o=t.autocomplete,s=t.defaultFilter,u=t.searchOnLoad,a=function(t){if(!Object(U.g)(t)||Object(U.b)(t))return null;var e=JSON.parse(t),n=e.queryValues,t=void 0===n?{}:n,n=e.response,n=void 0===n?{}:n,e=e.values,e=void 0===e?{}:e;return new D.a(null,new Map(Object.entries(t)),new Map(Object.entries(n)),new Map(Object.entries(e)))}(t.initialResponse),l=Object(L.useState)(!1),f=l[0],h=l[1],t=Object(L.useState)(!1),d=t[0],p=t[1],l=Object(L.useState)(Object(_.a)({},Q,{response:a})),v=l[0],g=l[1],t=Object(L.useState)(Q),y=t[0],m=t[1],l=Object(L.useState)(!1),t=l[0],b=l[1],w=Object(L.useRef)(),j=Object(L.useRef)(),O=Object(L.useRef)(o),k=Object(L.useRef)(null!=(l=c.variables)?l:new V.a),E=Object(L.useRef)(null!=(l=null==o?void 0:o.variables)?l:new V.a),x=c.pipeline.getResponse();x.isEmpty()&&null!==a&&(x=a),c.variables||t||Object.assign(c,{variables:k.current}),!o||o.variables||t||Object.assign(o,{variables:E.current}),t||(e=B(null!=(t=c.filters)?t:[]),n=null!=(t=k.current.get().filter)?t:"",r=null!=(s=null==s?void 0:s.toString())?s:"",k.current.set({filter:function(){var t=e.filter();return[r,n,Object(U.b)(t)?'_id != ""':t].filter(Boolean).join(" AND ")},countFilters:function(){return e.countFilters()},buckets:function(){return e.buckets()},count:function(){return e.count()},min:function(){return e.min()},max:function(){return e.max()}}));var C=Object(L.useCallback)(function(u){return function(e,t){void 0===t&&(t=!1);var n="autocomplete"===u?O.current:c,r="autocomplete"===u?y:v,i="autocomplete"===u?j:w;("autocomplete"===u?p:h)(!0),g(function(t){return Object(_.a)({},t,{query:null!=e?e:t.query})});var o=n.pipeline,s=n.variables,n=r.config,r=((r={})[n.qParam]=null!=e?e:s.get()[n.qParam],r[n.qOverrideParam]=void 0,r[n.pageParam]=void 0,r);t&&(r[n.qOverrideParam]="true"),s.set(r),i.current&&clearTimeout(i.current),i.current=setTimeout(function(){o.search(s.get())},50)}},[y.config,v.config]);Object(L.useEffect)(function(){var e=Object(_.a)({},q.a,c.config);g(function(t){return Object(_.a)({},t,{response:x,query:k.current.get()[e.qParam]||"",config:e})}),m(function(t){return Object(_.a)({},t,{config:Object(_.a)({},q.a,c.config)})});var n,t,r,i,o=[];return c.filters&&(r=B(c.filters),o.push(r.listen(F.i,function(){return C("search")()}),r.listen(F.e,function(){return C("search")()}),r.removeChildFilterListeners)),o.push(c.pipeline.listen(F.f,function(e){var t;clearTimeout(n),n=setTimeout(function(){h(!1),g(function(t){return Object(_.a)({},t,{response:e},I(k.current,t,e))})},0===(null==(t=e.getResults())?void 0:t.length)?500:20)})),o.push(k.current.listen(F.k,function(){return g(function(t){return Object(_.a)({},t,M(k.current,c.pipeline,t))})})),O.current||(t=(i=c.pipeline.config).account,r=i.collection,i=i.endpoint,O.current={pipeline:new G.a({account:t,collection:r,endpoint:i},"autocomplete"),variables:E.current}),o.push(O.current.pipeline.listen(F.f,function(e){p(!1),m(function(t){return Object(_.a)({},t,{response:e},I(E.current,t,e))})})),o.push(E.current.listen(F.k,function(){return m(function(t){return Object(_.a)({},t,M(E.current,O.current.pipeline,t))})})),u&&c.pipeline.search(k.current.get()),b(!0),function(){o.forEach(function(t){return t()})}},[]);function S(e){var t;void 0===e&&(e=!0),null!=(t=c.filters)&&t.forEach(function(t){return null==t?void 0:t.reset(e)})}var R,A=Object(L.useCallback)(function(r){return function(t){var e="autocomplete"===r?O.current:c,n=e.pipeline,e=e.variables;void 0!==t&&e.set(t),n.clearResponse(e.get())}},[]),T=Object(L.useCallback)(function(t){var e,n=c.pipeline,r=c.variables,i=v.config;r.set(((e={})[i.pageParam]=String(t),e)),h(!0),n.search(r.get())},[c.pipeline,c.variables,v.config]),P=Object(L.useCallback)(function(t){return c.pipeline.emitResultClicked(t)},[]);return N.a.createElement(z,{value:(R={autocomplete:y,search:v},Object(_.a)({},R,{search:Object(_.a)({},R.search,{variables:k.current,filters:c.filters,pipeline:c.pipeline,search:C("search"),clear:A("search"),resetFilters:S,fields:c.fields,searching:f}),autocomplete:Object(_.a)({},R.autocomplete,{variables:E.current,filters:c.filters,pipeline:null==(R=O.current)?void 0:R.pipeline,search:C("autocomplete"),clear:A("autocomplete"),resetFilters:S,fields:null==(R=O.current)?void 0:R.fields,searching:d}),resultClicked:P,paginate:T}))},i)}},17:function(t,e,n){"use strict";function r(){return"undefined"==typeof window}n.d(e,"a",function(){return r})},2:function(t,e){!function(){t.exports=this.wp.element}()},20:function(t,e,n){"use strict";t.exports=n(71)},27:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(1),i=n(8),o=[r.j],s=function(){function t(){var t;this.clientTracking=null,this.listeners=void 0,this.field=void 0,this.listeners=new Map(Object.entries(((t={})[r.j]=new i.a,t)))}var e=t.prototype;return e.listen=function(t,e){if(-1===o.indexOf(t))throw new Error('Unknown event type "'+t+'"');return this.listeners.get(t).listen(e)},e.emitTrackingReset=function(e){this.listeners.get(r.j).notify(function(t){t(e)})},e.reset=function(t){this.clientTracking.reset(),void 0!==t&&this.emitTrackingReset(t)},e.next=function(t){if(null===this.clientTracking)throw new Error("clientTracking is null");return this.clientTracking.next(t)},t}()},28:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(7),i=n(14),o=n(1),s=n(8),u=function(){function t(t){var e;void 0===t&&(t={}),this.variables=void 0,this.listeners=void 0,this.listeners=new Map([[o.k,new s.a]]),this.variables=new Map(Object.entries(Object(r.a)(((e={})[i.a.qParam]="",e[i.a.resultsPerPageParam]=15,e[i.a.fieldsParam]="",e),t)))}var e=t.prototype;return e.listen=function(t,e){if(t!==o.k)throw new Error('Unknown event type "'+t+'"');return this.listeners.get(t).listen(e)},e.set=function(t){this._set(t),this._emitUpdated(t)},e.get=function(){var n={};return this.variables.forEach(function(t,e){"function"==typeof t?n[e]=t():Array.isArray(t)?n[e]=t.join(","):n[e]=String(t)}),n},e._emitUpdated=function(e){var n=this;this.listeners.get(o.k).notify(function(t){return t(e,function(t){return n._set(t)})})},e._set=function(e){var n=this;Object.keys(e).forEach(function(t){void 0===e[t]?n.variables.delete(t):n.variables.set(t,e[t])})},t}()},29:function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function i(t,e){if(null==t)return{};for(var n,r={},i=Object.keys(t),o=0;o<i.length;o++)n=i[o],0<=e.indexOf(n)||(r[n]=t[n]);return r}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},34:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var f=n(11),h=n(17),d=n(1),p=n(8),v=n(44),g=n(43),y=n(20),m=n(13),b=n(35),r=[d.h,d.f,d.g],i=function(){function t(t,e,n,r){var i=this;void 0===n&&(n=new b.a),void 0===r&&(r=[g.a]),this.config=void 0,this.pipeline=void 0,this.client=void 0,this.tracking=void 0,this.listeners=void 0,this.searchCount=void 0,this.response=new m.a(null),this.analytics=void 0;var o=t.account,s=t.collection,u=t.endpoint,c=t.key,a=t.secret;this.config=t;var l={name:void 0,version:void 0};Object(f.g)(e)?l.name=e:"name"in e&&(l.name=e.name,l.version=e.version);e={};Object(f.e)(t.userAgent)||(e.userAgent=t.userAgent),Object(f.e)(t.clickTokenURL)||(e.clickTokenURL=t.clickTokenURL),Object(h.a)()?this.client=new y.Client(o,s,u,c,a,e):this.client=new y.Client(o,s,u,void 0,void 0,e),this.pipeline=this.client.pipeline(l.name,l.version),this.tracking=n,this.listeners=new Map([[d.h,new p.a],[d.f,new p.a],[d.g,new p.a]]),this.searchCount=0,this.response=new m.a(null),this.analytics=new v.a(this,this.tracking),r.forEach(function(t){new t(i.analytics)})}var e=t.prototype;return e.listen=function(t,e){if(-1===r.indexOf(t))throw new Error('Unknown event type "'+t+'"');return this.listeners.get(t).listen(e)},e._emitSearchSent=function(e){this.listeners.get(d.h).notify(function(t){t(e)})},e._emitResponseUpdated=function(e){this.listeners.get(d.f).notify(function(t){t(e)})},e.emitResultClicked=function(e){this.listeners.get(d.g).notify(function(t){t(e)})},e.search=function(n){var r=this;this.searchCount+=1;var i=this.searchCount;this.pipeline.search(n,this.tracking.next(n)).then(function(t){var e=t[0],t=t[1];i<r.searchCount||(r.response=new m.a(null,new Map(Object.entries(n)),new Map(Object.entries(e)),new Map(Object.entries(t))))}).catch(function(t){console.error(t),i<r.searchCount||(r.response=new m.a(t,new Map(Object.entries(n)),void 0,void 0))}).finally(function(){r._emitResponseUpdated(r.response)}),this._emitSearchSent(n)},e.clearResponse=function(t){this.tracking.next(t),this.searchCount+=1,this.response=new m.a(null),this._emitResponseUpdated(this.response)},e.getResponse=function(){return this.response},e.getAnalytics=function(){return this.analytics},e.getClient=function(){return this.client},e.getTracking=function(){return this.tracking},t}()},35:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(7),i=n(20),o=n(27),e=n(50),s=n.n(e),u=function(e){function t(){var t=e.call(this)||this;return t.field="_id",t.clientTracking=new i.DefaultSession(i.TrackingType.None,t.field,function(){var t={},e=s.a.get("_ga");e&&(t.ga=e);e=s.a.get("sjID");return e&&(t.sjID=e),t}()),t}return Object(r.b)(t,e),t}(o.a)},4:function(t,e){!function(){t.exports=this.React}()},43:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i,o=n(17),s=n(11),u=n(1);(n=i=i||{}).UniversalAnalytics="_ua",n.AnalyticsJS="ga",n.GTag="gtag";var r={decodeUriArgs:function(t){var e,n,r={},i=t.split("&");for(e in i)i.hasOwnProperty(e)&&(n=i[e].split("="),r[decodeURIComponent(n[0])]=decodeURIComponent(n[1]));return r},encodeUriArgs:function(e){var n=[];return Object.keys(e).forEach(function(t){return n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]))}),n.join("&")},mergeQueryStr:function(t){for(var n=this,r="string"==typeof t?this.decodeUriArgs(t):t,e=arguments.length,i=new Array(1<e?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return i.forEach(function(t){var e="string"==typeof t?n.decodeUriArgs(t):t;Object.keys(e).forEach(function(t){r[t]=e[t]})}),this.encodeUriArgs(r)},augmentUri:function(t,e){var n=/^([^?]+)\?(.+)+$/.exec(t);return n?n[1]+"?"+this.mergeQueryStr(n[2],e):t+"?"+this.encodeUriArgs(e)},getURLParameter:function(t){t=new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(window.location.search)||[void 0,""];return decodeURIComponent(t[1].replace(/\+/g,"%20"))||null}},c=function(){function t(t,e,n){var r=this;void 0===n&&(n="q"),this.id=void 0,this.param=void 0,this.unregisterFunctions=[],this.detatch=function(){return r.unregisterFunctions.forEach(function(t){return t()})},this.onBodyReset=function(t){return r.sendGAPageView(t)},this.onResultClicked=function(t){return r.sendGAPageView(t)},this.onPageClose=function(t){return r.sendGAPageView(t)},this.unregisterFunctions.push(t.listen(u.b,this.onPageClose)),this.unregisterFunctions.push(t.listen(u.a,this.onBodyReset)),this.unregisterFunctions.push(t.listen(u.c,this.onResultClicked)),Object(o.a)()?this.id=null:void 0!==e?this.id=e:Object(s.d)(window[i.AnalyticsJS])?this.id=i.AnalyticsJS:Object(s.d)(window[i.UniversalAnalytics])?this.id=i.UniversalAnalytics:Object(s.d)(window[i.GTag])?this.id=i.GTag:this.id=null,this.param=n}return t.prototype.sendGAPageView=function(t){var e;this.id&&!Object(o.a)()&&Object(s.d)(window[this.id])&&(e=r.augmentUri(window.location.href.substring(window.location.origin.length),((e={})[this.param]=t,e)),this.id===i.GTag?window[this.id]("event","page_view",{page_location:e}):window[this.id]("send","pageview",e))},t}()},44:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(17),i=n(1),o=n(8),s=[i.b,i.a,i.c],u=function(){function t(t,e){var n=this;this.enabled=void 0,this.body=void 0,this.pipeline=void 0,this.tracking=void 0,this.listeners=void 0,this.longestNonAutocompletedBody=void 0,this.longestAutocompletedBody=void 0,this.bodyLabel=void 0,this.bodyAutocompletedLabel=void 0,this.beforeunload=function(){n.enabled&&n.body&&(n.listeners.get(i.b).notify(function(t){t(n.body)}),n.enabled=!1)},this.resetBody=function(){n.enabled&&(n.listeners.get(i.a).notify(function(t){t(n.body)}),n.longestNonAutocompletedBody="",n.longestAutocompletedBody="",n.enabled=!1)},this.responseUpdated=function(t){var e;t.isEmpty()||t.isError()||(n.enabled=!0,e=t.getQueryValues().get(n.bodyLabel)||"",t=t.getValues().get(n.bodyAutocompletedLabel)||e,n.body=t,e.length>=n.longestNonAutocompletedBody.length&&(n.longestNonAutocompletedBody=e,n.longestAutocompletedBody=t))},this.resultClicked=function(){n.enabled&&n.body&&(n.listeners.get(i.c).notify(function(t){t(n.body)}),n.longestNonAutocompletedBody="",n.longestAutocompletedBody="",n.enabled=!1)},this.enabled=!1,this.body="",this.pipeline=t,this.tracking=e,this.listeners=new Map(Object.entries(((e={})[i.b]=new o.a,e[i.a]=new o.a,e[i.c]=new o.a,e))),this.longestNonAutocompletedBody="",this.longestAutocompletedBody="",this.bodyLabel="q",this.bodyAutocompletedLabel="q",Object(r.a)()||window.addEventListener("beforeunload",this.beforeunload),this.pipeline.listen(i.f,this.responseUpdated),this.pipeline.listen(i.g,this.resultClicked),this.tracking.listen(i.j,this.resetBody)}return t.prototype.listen=function(t,e){if(-1===s.indexOf(t))throw new Error('Unknown event type "'+t+'"');return this.listeners.get(t).listen(e)},t}()},50:function(t,e,n){var r,i;void 0===(r="function"==typeof(r=i=function(){function u(){for(var t=0,e={};t<arguments.length;t++){var n,r=arguments[t];for(n in r)e[n]=r[n]}return e}function a(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function t(c){function s(){}function n(t,e,n){if("undefined"!=typeof document){"number"==typeof(n=u({path:"/"},s.defaults,n)).expires&&(n.expires=new Date(+new Date+864e5*n.expires)),n.expires=n.expires?n.expires.toUTCString():"";try{var r=JSON.stringify(e);/^[\{\[]/.test(r)&&(e=r)}catch(t){}e=c.write?c.write(e,t):encodeURIComponent(String(e)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var i,o="";for(i in n)n[i]&&(o+="; "+i,!0!==n[i]&&(o+="="+n[i].split(";")[0]));return document.cookie=t+"="+e+o}}function e(t,e){if("undefined"!=typeof document){for(var n={},r=document.cookie?document.cookie.split("; "):[],i=0;i<r.length;i++){var o=r[i].split("="),s=o.slice(1).join("=");e||'"'!==s.charAt(0)||(s=s.slice(1,-1));try{var u=a(o[0]),s=(c.read||c)(s,u)||a(s);if(e)try{s=JSON.parse(s)}catch(t){}if(n[u]=s,t===u)break}catch(t){}}return t?n[t]:n}}return s.set=n,s.get=function(t){return e(t,!1)},s.getJSON=function(t){return e(t,!0)},s.remove=function(t,e){n(t,"",u(e,{expires:-1}))},s.defaults={},s.withConverter=t,s}(function(){})})?r.call(e,n,e,t):r)||(t.exports=r),t.exports=i()},7:function(t,e,n){"use strict";function r(){return(r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function i(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e}n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},71:function(t,l,e){"use strict";function c(t,e,n,r,i,o,s){try{var u=t[o](s),c=u.value}catch(t){return n(t),0}u.done?e(c):Promise.resolve(c).then(r,i)}function n(u){return function(){var t=this,s=arguments;return new Promise(function(e,n){var r=u.apply(t,s);function i(t){c(r,e,n,i,o,"next",t)}function o(t){c(r,e,n,i,o,"throw",t)}i(void 0)})}}function f(){return(f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function r(t,e){t.prototype=Object.create(e.prototype),o(t.prototype.constructor=t,e)}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e,n){return(s=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);r=new(Function.bind.apply(t,r));return n&&o(r,n.prototype),r}).apply(null,arguments)}function u(t){var n="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return s(t,arguments,i(this).constructor)}return e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o(e,t)})(t)}Object.defineProperty(l,"__esModule",{value:!0});function a(){return"undefined"==typeof window}var h,d=(function(){var e=function(s){var t=Object.prototype,c=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(s){o=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i,o,s,u,e=Object.create((e&&e.prototype instanceof f?e:f).prototype),r=new w(r||[]);return e._invoke=(i=t,o=n,s=r,u="suspendedStart",function(t,e){if("executing"===u)throw new Error("Generator is already running");if("completed"===u){if("throw"===t)throw e;return{value:void 0,done:!0}}for(s.method=t,s.arg=e;;){var n=s.delegate;if(n){var r=function t(e,n){var r=e.iterator[n.method];if(void 0===r){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method))return l;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}r=a(r,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,l;var r=r.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,l):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,l)}(n,s);if(r){if(r===l)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if("suspendedStart"===u)throw u="completed",s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);u="executing";r=a(i,o,s);if("normal"===r.type){if(u=s.done?"completed":"suspendedYield",r.arg===l)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(u="completed",s.method="throw",s.arg=r.arg)}}),e}function a(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}s.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};o(p,r,function(){return this});e=Object.getPrototypeOf,e=e&&e(e(j([])));e&&e!==t&&c.call(e,r)&&(p=e);var v=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function y(s,u){var e;this._invoke=function(n,r){function t(){return new u(function(t,e){!function e(t,n,r,i){t=a(s[t],s,n);if("throw"!==t.type){var o=t.arg,n=o.value;return n&&"object"==typeof n&&c.call(n,"__await")?u.resolve(n.__await).then(function(t){e("next",t,r,i)},function(t){e("throw",t,r,i)}):u.resolve(n).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,i)})}i(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}}function m(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(m,this),this.reset(!0)}function j(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,t=function t(){for(;++n<e.length;)if(c.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return t.next=t}}return{next:O}}function O(){return{value:void 0,done:!0}}return o(v,"constructor",h.prototype=d),o(d,"constructor",h),h.displayName=o(d,i,"GeneratorFunction"),s.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,o(t,i,"GeneratorFunction")),t.prototype=Object.create(v),t},s.awrap=function(t){return{__await:t}},g(y.prototype),o(y.prototype,n,function(){return this}),s.AsyncIterator=y,s.async=function(t,e,n,r,i){void 0===i&&(i=Promise);var o=new y(u(t,e,n,r),i);return s.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},g(v),o(v,i,"Generator"),o(v,r,function(){return this}),o(v,"toString",function(){return"[object Generator]"}),s.keys=function(n){var t,r=[];for(t in n)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},s.values=j,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&c.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var s=c.call(i,"catchLoc"),u=c.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r,i=n.completion;return"throw"===i.type&&(r=i.arg,b(n)),r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},s}((h={exports:{}}).exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}(),h.exports),p=a()?null:null==(I=document.currentScript)?void 0:I.src,v="";p?v="(via "+new URL(p).host+")":a()&&(v="(SSR)");var g,y,m,b,w=["sajari-sdk-js/2.4.0",v].filter(Boolean).join(" "),j=((q=T.prototype).emit=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events["*"]&&this.events["*"].forEach(function(t){return t.apply(void 0,[e].concat(n))}),this.events[e]&&this.events[e].forEach(function(t){return t.apply(void 0,n)})},q.on=function(t,e){var n=this;return this.events[t]||(this.events[t]=[]),this.events[t].push(e),function(){n.events[t]=n.events[t].filter(function(t){return t!==e})}},T),O=["queryID"],k=(r(A,b=u(Error)),A),E=(r(R,m=u(Error)),R),x={clickTokenURL:"https://re.sajari.com/token/",userAgent:""},C=((F=S.prototype).call=(y=n(d.mark(function t(e,n,r){var i,o,s;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a()||navigator.onLine){t.next=2;break}throw new k("Search request failed due to a network error. Please check your network connection.");case 2:return i={project:[this.project],collection:[this.collection],"user-agent":[[w,this.userAgent,this.config.userAgent].filter(Boolean).join(" ")]},a()&&[this.key,this.secret].every(Boolean)&&Object.assign(i,{authorization:["keysecret "+this.key+" "+this.secret]}),t.next=6,fetch(""+this.endpoint+e,{signal:r,method:"POST",headers:{Accept:"application/json","Content-Type":"text/plain"},body:JSON.stringify({metadata:i,request:n})});case 6:if(200!==(o=t.sent).status)return s=o.statusText,t.prev=9,t.next=12,o.json();t.next=21;break;case 12:s=t.sent.message,t.next=18;break;case 16:t.prev=16,t.t0=t.catch(9);case 18:if(403===o.status)throw new E(o.status,"This domain is not authorized to make this search request.",new Error(s));t.next=20;break;case 20:throw new E(o.status,"Search request failed due to a configuration error.",new Error(s));case 21:return t.next=23,o.json();case 23:return t.abrupt("return",t.sent);case 24:case"end":return t.stop()}},t,this,[[9,16]])})),function(t,e,n){return y.apply(this,arguments)}),F.pipeline=function(t,e){return new L(this,t,e)},F.interactionConsume=(g=n(d.mark(function t(e,n,r,i){return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===i&&(i={}),t.abrupt("return",this.call("/sajari.interaction.v2.Interaction/ConsumeToken",{token:e,identifier:n,weight:r,data:i}));case 2:case"end":return t.stop()}},t,this)})),function(t,e,n,r){return g.apply(this,arguments)}),S);function S(t,e,n,r,i,o){if(void 0===n&&(n=(a()?"https:":"")+"//jsonapi.sajari.net"),this.userAgent="",!a()&&[r,i].some(Boolean))throw new Error("key/secret authorization is only supported for server-side rendering.");this.project=t,this.collection=e,this.endpoint=n,this.key=r,this.secret=i,this.config=Object.assign(x,o),this.interactionConsume=this.interactionConsume.bind(this)}function R(t,e,n){return(e=m.call(this,e)||this).statusCode=t,e.error=n,e}function A(t){return(t=b.call(this,t)||this).type="CONNECTION",t}function T(){this.events={}}(I=l.PipelineType||(l.PipelineType={}))[I.Query=1]="Query",I[I.Record=2]="Record";var P,_,L=(r(N,P=j),N.prototype.search=(_=n(d.mark(function t(e,n){var r,u,i,o,s,c,a=this;return d.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={type:l.TrackingType.None},void 0!==n&&(c=n.queryID,o=function(t,e){if(null==t)return{};for(var n,r={},i=Object.keys(t),o=0;o<i.length;o++)0<=e.indexOf(n=i[o])||(r[n]=t[n]);return r}(n,O),r=f({query_id:c},o)),this.emit("search-sent",e),t.next=5,this.client.call("/sajari.api.pipeline.v1.Query/Search",{pipeline:this.identifier,tracking:r,values:e});case 5:return u=t.sent,i=Object.entries((null==(s=u.searchResponse)?void 0:s.aggregates)||{}).map(function(t){var e=t[0],t=t[1];if("metric"in t){var n=e.split(".");return{type:n[0],key:n[1],value:t.metric.value}}return"count"in t?{type:"count",key:e.replace(/^count./,""),value:t.count.counts}:"buckets"in t?{type:"count",key:"buckets",value:Object.values(null!=(n=null==(n=t.buckets)?void 0:n.buckets)?n:{}).reduce(function(t,e){return Object.assign(t,((t={})[e.name]=e.count,t))},{})}:{key:e,value:t}}).reduce(function(t,e){return void 0===e.type?console.debug(e):(void 0===t[e.key]&&(t[e.key]={}),t[e.key][e.type]=e.value),t},{}),o=Object.entries((null==(c=u.searchResponse)?void 0:c.aggregateFilters)||{}).map(function(t){var e=t[0],t=t[1];if("metric"in t){var n=e.split(".");return{type:n[0],key:n[1],value:t.metric.value}}return"count"in t?{type:"count",key:e.replace(/^count./,""),value:t.count.counts}:"buckets"in t?{type:"count",key:"buckets",value:Object.values(null!=(n=null==(n=t.buckets)?void 0:n.buckets)?n:{}).reduce(function(t,e){return Object.assign(t,((t={})[e.name]=e.count,t))},{})}:{key:e,value:t}}).reduce(function(t,e){return void 0===e.type?console.debug(e):(void 0===t[e.key]&&(t[e.key]={}),t[e.key][e.type]=e.value),t},{}),s=((null==(r=u.searchResponse)?void 0:r.results)||[]).map(function(t,e){var n,r,i=t.indexScore,o=t.score,s=t.values,t=void 0,e=(u.tokens||[])[e];return void 0!==e&&("click"in e?t={click:a.client.config.clickTokenURL+e.click.token}:"pos"in e?t=f({},e):"posNeg"in e&&(t={pos:e.posNeg.pos,neg:e.posNeg.neg})),{indexScore:i,score:o,values:(n=s,r={},Object.keys(n).forEach(function(t){var e="single"in(e=n[t])?e.single:"repeated"in e?e.repeated.values:null;null!==e&&(r[t]=e)}),r),token:t}}),c={},u.redirects&&(c=Object.entries(u.redirects).reduce(function(t,e){var n=e[0];return t[n]=e[1],t[n].token=a.client.config.clickTokenURL+t[n].token,t},{})),t.abrupt("return",[{time:parseFloat((null==(r=u.searchResponse)?void 0:r.time)||"0.0"),totalResults:parseInt((null==(r=u.searchResponse)?void 0:r.totalResults)||"0",10),results:s,aggregates:i,aggregateFilters:o,redirects:c},u.values||{}]);case 12:case"end":return t.stop()}},t,this)})),function(t,e){return _.apply(this,arguments)}),N);function N(t,e,n){var r;return(r=P.call(this)||this).client=t,r.identifier={name:e,version:n},r}(p=l.TrackingType||(l.TrackingType={})).None="NONE",p.Click="CLICK",p.PosNeg="POS_NEG";function U(t,e){return!a()&&localStorage.setItem(t,e)}var q,v=function(i){function t(t,e,n){var r;return(r=i.call(this)||this).queryID="",r.sequence=0,r.type=t,r.field=e,r.data=function(e){if("undefined"==typeof window)return{};var t=document.cookie.split(";").filter(function(t){return t.includes("_ga")||t.includes("sjID")}).map(function(t){return t.split("=")}).reduce(function(t,e){var n=e[0],e=e[1];return"_ga"===n?t.ga=e:t[n]=e,t},{});return void 0===e?t:(Object.entries(t).forEach(function(t){e[t[0]]=t[1]}),e)}(n),r}r(t,i);var e=t.prototype;return e.next=function(t){return""===this.queryID?(this.queryID=function(t){void 0===t&&(t=16);for(var e="",n=0;n<t;n++)e+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return e}(),this.sequence=0):this.sequence++,{type:this.type,queryID:this.queryID,sequence:this.sequence,field:this.field,data:this.data}},e.reset=function(){this.emit("tracking-reset"),this.queryID="",this.sequence=0},t}(j),F=((q=B.prototype).next=function(t){var e=t[this.textParam];if(void 0===e)return this.reset(),this.session.next(t);var n=this.lastQuery.substr(0,Math.min(e.length,3));return(e.substr(0,n.length)!==n||0<this.lastQuery.length&&0===e.length)&&this.reset(),this.lastQuery=e,this.session.next(t)},q.reset=function(){this.session.reset()},B),I=function(o){function t(t,e,n,r){var i;return void 0===e&&(e=[]),void 0===n&&(n=!1),void 0===r&&(r="OR"),(i=o.call(this)||this).options=t,i.active=e,i.multi=n,i.joinOp=r,i}r(t,o);var e=t.prototype;return e.set=function(e,t){if(void 0===t&&(t=!0),this.multi)return this.active=t&&-1===this.active.indexOf(e)?this.active.concat(e):this.active.filter(function(t){return t!==e}),void this.emit("selection-updated",[].concat(this.active));this.active=t?[e]:[],this.emit("selection-updated",[].concat(this.active))},e.isActive=function(t){return-1!==this.active.indexOf(t)},e.get=function(){return[].concat(this.active)},e.updateOptions=function(n){var r=this;Object.keys(n).forEach(function(e){var t=n[e];if(void 0===t)return delete r.options[e],void(r.active=r.active.filter(function(t){return t!==e}));r.options[e]=t}),this.emit("options-updated",f({},this.options))},e.getOptions=function(){return f({},this.options)},e.filter=function(){var e=this,t=this.active.map(function(t){t=e.options[t];return"function"==typeof t&&(t=t()),""!==t&&(t="("+t+")"),t}).filter(Boolean);switch(t.length){case 0:return"";case 1:return t[0];default:return t.join(" "+this.joinOp+" ")}},t}(j),p=function(n){function t(t){var e;return void 0===t&&(t={}),(e=n.call(this)||this).internal=t,e}r(t,n);var e=t.prototype;return e._internalUpdate=function(n){var r=this;Object.keys(n).forEach(function(t){var e=n[t];void 0===e?delete r.internal[t]:r.internal[t]=e})},e.update=function(t){var e=this;this._internalUpdate(t),this.emit("values-changed",t,function(t){return e._internalUpdate(t)})},e.get=function(){var n={};return Object.entries(this.internal).forEach(function(t){var e=t[1];n[t[0]]="function"==typeof e?e():Array.isArray(e)?e.join(","):""+e}),n},t}(j),q=((q=M.prototype).add=function(t,e){this.currentTokens[t]={token:e,clickSubmitted:!1},U("sajari_tokens",JSON.stringify(this.currentTokens))},q.get=function(t){return this.currentTokens[t]},q.sendPosEvent=function(t,e,n){t=this.get(t);void 0!==t&&this.client.interactionConsume(t.token.pos,e,n)},q.sendClickEvent=function(t){var e=this.get(t);void 0!==e&&!1===e.clickSubmitted&&(this.sendPosEvent(t,"click",1),this.currentTokens[t].clickSubmitted=!0,U("sajari_tokens",JSON.stringify(this.currentTokens)))},q.sendPendingClicks=function(){var e=this;Object.keys(this.currentTokens).forEach(function(t){!1===e.currentTokens[t].clickSubmitted&&(e.sendClickEvent(t),e.currentTokens[t].clickSubmitted=!0)})},M);function M(t){var e=a()?"":localStorage.getItem("sajari_tokens");try{this.currentTokens=e?JSON.parse(e):{}}catch(t){this.currentTokens={},console.error("Sajari PosNeg local storage key contains corrupt data.",e)}this.client=t}function B(t,e){this.textParam=t,this.session=e,this.lastQuery=""}l.Client=C,l.DefaultSession=v,l.EVENT_OPTIONS_UPDATED="options-updated",l.EVENT_SEARCH_SENT="search-sent",l.EVENT_SELECTION_UPDATED="selection-updated",l.EVENT_TRACKING_RESET="tracking-reset",l.EVENT_VALUES_UPDATED="values-changed",l.EventEmitter=j,l.Filter=I,l.InteractiveSession=F,l.NetworkError=k,l.POS_NEG_STORAGE_KEY="sajari_tokens",l.PosNegLocalStorageManager=q,l.RequestError=E,l.Values=p},8:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){this.listeners=void 0,this.listeners=[]}var e=t.prototype;return e.listen=function(t){var e=this;return this.listeners.push(t),function(){return e.unlisten(t)}},e.unlisten=function(t){t=this.listeners.indexOf(t);0<=t&&this.listeners.splice(t,1)},e.notify=function(e){this.listeners.forEach(function(t){try{e(t)}catch(t){console&&console.error&&console.error(t)}})},t}()}},i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=126));