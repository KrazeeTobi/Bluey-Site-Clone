function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}var n,r;this.gbl=this.gbl||{},this.gbl.frontend=(r={},o.m=n={0:function(e,t){var o=e.exports={decodeHtml:function(e){if(e)return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})},decodeHTMLEntities:function(e){for(var t=[["#038","&"],["amp","&"],["apos","'"],["#x27","'"],["#x2F","/"],["#39","'"],["#47","/"],["lt","<"],["gt",">"],["nbsp"," "],["quot",'"']],n=0,r=t.length;n<r;++n)e=e.replace(new RegExp("&"+t[n][0]+";","g"),t[n][1]);return e},YouTubeGetID:function(e){return void 0!==(e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?e[2].split(/[^0-9a-z_\-]/i)[0]:e},formatDate:function(e){e=new Date(e);return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())},copyingIsntAlwaysCheating:function(e){var t=e.getAttribute("href"),n=document.createElement("input");n.style.position="absolute",n.style.top="-99999px";var r=document.createAttribute("value");r.value=t,document.querySelector("body").appendChild(n),n.setAttributeNode(r),n.select(),document.execCommand("copy"),n.remove(),e.classList.add("wobble"),setTimeout(function(){e.classList.remove("wobble")},1500)},isGutenbergActive:function(){return document.body.classList.contains("block-editor-page")},validateEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},cleanInput:function(e){return e=(e=e.trim()).replace(/<(?:.|\n)*?>/gm,"")},tidyExcerpt:function(e){if(e)return e=(e=e.replace(/<[^>]*>?/gm,"")).split(" ").splice(0,15).join(" ")},getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+864e5);var r="expires="+n.toUTCString(),n=location.hostname;document.cookie="".concat(e,"=").concat(t,"; ").concat(r,"; path=/; domain=.").concat(n,"; SameSite=Lax;")},deleteCookie:function(e){var t=location.hostname;document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.").concat(t,"; SameSite=Lax;")},formatTime:function(e){var t=e%60,e=1===(e=Math.floor(e/60))?"1 hr ":1<e?"".concat(e," hrs "):"",t=1===t?"1 min":1<t?"".concat(t," mins"):"";return"".concat(e).concat(t)},viewportIsAbove:function(e){if("undefined"==typeof window)return!1;e=(window.matchMedia||window.msMatchMedia)("(min-width: ".concat(e.toString(),"px)"));return!!e&&e.matches},viewportIsBelow:function(e){if("undefined"==typeof window)return!1;e=(window.matchMedia||window.msMatchMedia)("(max-width: ".concat((e-1).toString(),"px)"));return!!e&&e.matches},checkIfMobile:function(e,t){var n=o.viewportIsBelow(768),r=o.viewportIsAbove(768)&&o.viewportIsBelow(992),r=!(!n&&!r)&&{isPhone:n,isTablet:r};r!==e&&t(r)}}},127:function(e,t,n){"use strict";n.r(t);var a=n(81);document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".wp-admin"),t=document.querySelectorAll(".fe-video-player");if(!e&&t)for(var n=0;n<t.length;n++){var r=t[n],o=JSON.parse(r.getAttribute("data-props"));ReactDOM.render(wp.element.createElement(a.a,o),r)}})},2:function(e,t){!function(){e.exports=this.wp.element}()},24:function(e,t,n){"use strict";var r=n(0);t.a=function(e){return wp.element.createElement("div",{className:"share-buttons"},wp.element.createElement("span",null,"Share: "),wp.element.createElement("a",{className:"icon__social icon__social--facebook__share",href:"https://facebook.com/sharer/sharer.php?u=".concat(e.slug),target:"_blank",rel:"noopener noreferrer","aria-label":"Share on Facebook"},"Share on Facebook"),wp.element.createElement("a",{className:"icon__social icon__social--twitter__share",href:"https://twitter.com/intent/tweet/?text=".concat(e.title,"&amp;url=").concat(e.slug),target:"_blank",rel:"noopener noreferrer","aria-label":"Share on Twitter"},"Share on Twitter"),wp.element.createElement("a",{className:"icon__social icon__social--copy-link",href:e.slug,target:"_blank",rel:"noopener noreferrer","aria-label":"Copy URL",onClick:function(e){e.preventDefault(),Object(r.copyingIsntAlwaysCheating)(e.target)}},"Copy URL"))}},81:function(e,t,n){"use strict";n.d(t,"a",function(){return r});function a(e){return e.full?wp.element.createElement("header",{className:"youtube-header"},wp.element.createElement("iframe",{className:"youtube-player",title:e.title,src:e.active?"https://www.youtube.com/embed/".concat(e.src?Object(l.YouTubeGetID)(e.src):"","?rel=0&cc_lang_pref=en&cc_load_policy=1&modestbranding=1&autoplay=1"):"",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:"1"}),wp.element.createElement("button",{style:{backgroundImage:e.poster?"url(".concat(e.poster.sizes.large,")"):""},"data-active":e.active,onClick:e.play},"Play video")):wp.element.createElement("header",{className:"youtube-header"},wp.element.createElement("iframe",{className:"youtube-player",src:e.active&&e.src?"https://www.youtube.com/embed/".concat(Object(l.YouTubeGetID)(e.src),"?rel=0&cc_lang_pref=en&cc_load_policy=1&modestbranding=1&autoplay=1"):"",frameborder:"0",allow:"autoplay; encrypted-media",allowfullscreen:"1"}),wp.element.createElement("button",{style:{backgroundImage:"url(".concat(e.poster,")")},"data-active":e.active,onClick:e.play},"Play video"))}function i(e){return e.full?wp.element.createElement("header",{className:"brightcove-header"},wp.element.createElement("iframe",{className:"brightcove-player",title:e.title,src:"//players.brightcove.net/6041795457001/T1Ug9xImb_default/index.html?videoId=".concat(e.src,"&playsinline=true"),allowfullscreen:"",allow:"encrypted-media",playsinline:!0})):wp.element.createElement("header",{className:"brightcove-header"},wp.element.createElement("iframe",{className:"brightcove-player",src:"//players.brightcove.net/6041795457001/T1Ug9xImb_default/index.html?videoId=".concat(e.src),allowfullscreen:"",allow:"encrypted-media",playsinline:!0}))}var c=n(2),l=n(0),s=n(24);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=f(n);return function(e,t){{if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return m(e)}(this,r?(e=f(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var r=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,c["Component"]);var e,t,n,r=d(o);function o(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,e)).state={loading:!0,currentVideo:[],currentID:"",currentUrl:"",videoActive:!1},e.previous=e.previous.bind(m(e)),e.next=e.next.bind(m(e)),e.play=e.play.bind(m(e)),e.copyLink=e.copyLink.bind(m(e)),e}return e=o,(t=[{key:"componentWillMount",value:function(){this.props.watchDetail?this.fetchVideoDetails():this.setState({loading:!1})}},{key:"fetchVideoDetails",value:function(){var t=this;fetch("/wp-json/wp/v2/videos/".concat(""!==this.state.currentID?this.state.currentID:this.props.postId)).then(function(e){return e.json()}).then(function(e){t.setState({currentVideo:e?[e]:[],currentID:e.id,currentUrl:e.link,loading:!1})}).then(function(){console.log(t.state.currentVideo),Object(l.isGutenbergActive)()||history.replaceState(null,null,t.state.currentUrl)}).catch(function(e){t.setState({loading:!1}),console.log(e)})}},{key:"play",value:function(){this.setState({videoActive:!0})}},{key:"previous",value:function(){var e=this;null!==this.state.currentVideo[0].previous&&this.setState({currentID:this.state.currentVideo[0].previous.id,loading:!0},function(){e.fetchVideoDetails()})}},{key:"next",value:function(){var e=this;null!==this.state.currentVideo[0].next&&this.setState({currentID:this.state.currentVideo[0].next.id,loading:!0},function(){e.fetchVideoDetails()})}},{key:"videoType",value:function(){return!0===this.props.watchDetail&&0<this.state.currentVideo.length&&this.state.currentVideo[0].acf?"youtube"===this.state.currentVideo[0].acf.video_player?wp.element.createElement(a,{active:this.state.videoActive,title:this.state.currentVideo[0].title.rendered,src:this.state.currentVideo[0].acf.youtube_video_id,poster:this.state.currentVideo[0].acf.poster_image,play:this.play,full:this.props.watchDetail}):"brightcove"===this.state.currentVideo[0].acf.video_player?wp.element.createElement(i,{title:this.state.currentVideo[0].title.rendered,src:this.state.currentVideo[0].acf.brightcove_video_id,poster:this.state.currentVideo[0].acf.poster_image,full:this.props.watchDetail}):void 0:"youtube"===this.props.videoPlayer?wp.element.createElement(a,{active:this.state.videoActive,src:this.props.url,poster:this.props.posterImage,play:this.play,full:this.props.watchDetail}):"brightcove"===this.props.videoPlayer?wp.element.createElement(i,{src:this.props.url,poster:this.props.posterImage,full:this.props.watchDetail}):void 0}},{key:"copyLink",value:function(e){e.preventDefault(),Object(l.copyingIsntAlwaysCheating)(e.target)}},{key:"render",value:function(){var e=this.videoType();return wp.element.createElement(React.Fragment,null,this.props.watchDetail&&wp.element.createElement("div",{className:"top-button-group"},wp.element.createElement("a",{className:"btn btn__primary btn__icon btn__icon--back",href:"/watch"},"All Episodes")),wp.element.createElement("article",{"data-loading":this.state.loading,"data-detail-page":this.props.watchDetail},wp.element.createElement(React.Fragment,null,this.props.watchDetail?0<this.state.currentVideo.length&&[this.state.currentVideo[0].do_not_play?wp.element.createElement("header",{className:"poster-image",style:{backgroundImage:"url(".concat(this.state.currentVideo[0].featured_image_url,")")}}):e,wp.element.createElement("div",{className:"meta"},wp.element.createElement("h2",null,this.state.currentVideo[0].title&&this.state.currentVideo[0].title.rendered),wp.element.createElement(s.a,{slug:this.state.currentUrl,title:this.state.currentVideo[0].title&&this.state.currentVideo[0].title.rendered}),wp.element.createElement("p",{className:"taxonomies"},this.state.currentVideo[0].post_labels&&0<this.state.currentVideo[0].post_labels.length&&this.state.currentVideo[0].post_labels[0].name&&this.state.currentVideo[0].post_labels[0].name,this.state.currentVideo[0].acf&&this.state.currentVideo[0].acf.episode_number&&", Episode ".concat(this.state.currentVideo[0].acf.episode_number)),wp.element.createElement("p",{className:"description"},this.state.currentVideo[0].acf&&this.state.currentVideo[0].acf.description&&this.state.currentVideo[0].acf.description))]:e,this.state.loading&&wp.element.createElement("div",{className:"sk-chasing-dots"},wp.element.createElement("div",{className:"sk-child sk-dot1"}),wp.element.createElement("div",{className:"sk-child sk-dot2"})))),this.props.watchDetail&&0<this.state.currentVideo.length&&[wp.element.createElement("div",{className:"bottom-button-group"},wp.element.createElement("a",{className:"btn btn__primary btn__icon btn__icon--back ".concat(null===this.state.currentVideo[0].previous?"btn__disabled":""),onClick:this.previous},"Previous"),wp.element.createElement("a",{className:"btn btn__primary btn__icon btn__icon--forward ".concat(null===this.state.currentVideo[0].next?"btn__disabled":""),onClick:this.next},"Next"))])}}])&&u(e.prototype,t),n&&u(e,n),o}()}},o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=127));