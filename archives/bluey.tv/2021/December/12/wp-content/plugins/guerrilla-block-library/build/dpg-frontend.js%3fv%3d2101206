function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}var n,r;this.gbl=this.gbl||{},this.gbl["dpg-frontend"]=(r={},a.m=n={0:function(e,t){var a=e.exports={decodeHtml:function(e){if(e)return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})},decodeHTMLEntities:function(e){for(var t=[["#038","&"],["amp","&"],["apos","'"],["#x27","'"],["#x2F","/"],["#39","'"],["#47","/"],["lt","<"],["gt",">"],["nbsp"," "],["quot",'"']],n=0,r=t.length;n<r;++n)e=e.replace(new RegExp("&"+t[n][0]+";","g"),t[n][1]);return e},YouTubeGetID:function(e){return void 0!==(e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?e[2].split(/[^0-9a-z_\-]/i)[0]:e},formatDate:function(e){e=new Date(e);return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())},copyingIsntAlwaysCheating:function(e){var t=e.getAttribute("href"),n=document.createElement("input");n.style.position="absolute",n.style.top="-99999px";var r=document.createAttribute("value");r.value=t,document.querySelector("body").appendChild(n),n.setAttributeNode(r),n.select(),document.execCommand("copy"),n.remove(),e.classList.add("wobble"),setTimeout(function(){e.classList.remove("wobble")},1500)},isGutenbergActive:function(){return document.body.classList.contains("block-editor-page")},validateEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},cleanInput:function(e){return e=(e=e.trim()).replace(/<(?:.|\n)*?>/gm,"")},tidyExcerpt:function(e){if(e)return e=(e=e.replace(/<[^>]*>?/gm,"")).split(" ").splice(0,15).join(" ")},getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var a=n[r];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""},setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+864e5);var r="expires="+n.toUTCString(),n=location.hostname;document.cookie="".concat(e,"=").concat(t,"; ").concat(r,"; path=/; domain=.").concat(n,"; SameSite=Lax;")},deleteCookie:function(e){var t=location.hostname;document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.").concat(t,"; SameSite=Lax;")},formatTime:function(e){var t=e%60,e=1===(e=Math.floor(e/60))?"1 hr ":1<e?"".concat(e," hrs "):"",t=1===t?"1 min":1<t?"".concat(t," mins"):"";return"".concat(e).concat(t)},viewportIsAbove:function(e){if("undefined"==typeof window)return!1;e=(window.matchMedia||window.msMatchMedia)("(min-width: ".concat(e.toString(),"px)"));return!!e&&e.matches},viewportIsBelow:function(e){if("undefined"==typeof window)return!1;e=(window.matchMedia||window.msMatchMedia)("(max-width: ".concat((e-1).toString(),"px)"));return!!e&&e.matches},checkIfMobile:function(e,t){var n=a.viewportIsBelow(768),r=a.viewportIsAbove(768)&&a.viewportIsBelow(992),r=!(!n&&!r)&&{isPhone:n,isTablet:r};r!==e&&t(r)}}},132:function(e,t,n){"use strict";n.r(t);var l=n(80);document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".wp-admin"),t=document.querySelectorAll(".fe-dynamic-posts-grid");if(!e&&t)for(var n=0;n<t.length;n++){var r=t[n],a=JSON.parse(r.getAttribute("data-props"));ReactDOM.render(wp.element.createElement(l.a,a),r)}})},2:function(e,t){!function(){e.exports=this.wp.element}()},23:function(e,t,n){"use strict";var u=n(2),p=n(0);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.post,n=e.labels,r=e.index,a=e.gridBlock,l=f(Object(u.useState)(""),2),o=l[0],c=l[1],i=t.featured_image_url,s=t.title,e=t.acf,l=t.link,m=e.buy_now_urls,t=e.show_detail_page,n={key:r,className:"bbc-card bbc-card__shop ".concat(n)},i={style:{backgroundImage:"url(".concat(i,")")},className:"poster-image"};return wp.element.createElement("article",d({},n,{"aria-label":Object(p.decodeHtml)(s.rendered),"data-grid-block":a}),wp.element.createElement(React.Fragment,null,t?wp.element.createElement("a",{className:"grid-block-link",href:l}):m&&1<m.length&&!t?wp.element.createElement("a",{className:"grid-block-link",href:l,onClick:function(){return c(!o)}}):wp.element.createElement("a",{className:"grid-block-link",href:m?m[0].url:"",target:"_blank"})),wp.element.createElement("div",{className:"poster-wrapper"},wp.element.createElement("header",i)),wp.element.createElement("div",{className:"meta"},wp.element.createElement("h3",{className:"title"},Object(p.decodeHtml)(s.rendered)),wp.element.createElement("div",{className:"card-button-group single-button"},m&&1<m.length&&t?wp.element.createElement(React.Fragment,null,!a&&wp.element.createElement(React.Fragment,null,wp.element.createElement("a",{href:l,className:"btn btn__primary"},"Buy"))):m&&1<m.length&&!t?wp.element.createElement(React.Fragment,null,!a&&wp.element.createElement("a",{className:"btn btn__primary mutliple-retailers",onClick:function(){return c(!o)}},"Buy")):m&&m.length<=1&&t?!a&&wp.element.createElement("a",{href:l,className:"btn btn__primary"},"Buy"):m&&m.length?!a&&wp.element.createElement("a",{href:e.buy_now_urls?e.buy_now_urls[0].url:"",target:"_blank",className:"btn btn__primary external"},"Buy"):wp.element.createElement("p",{className:"multiple-retailers-text"},"Coming soon"))),m&&1<m.length&&!t&&!a&&wp.element.createElement("div",{className:"hidden-multiple-retailers","data-display":(void 0).state.showRetailers},m.map(function(e,t){return t<=5&&[wp.element.createElement("a",{href:e.url,className:"btn btn__primary external",target:"_blank",rel:"noopener noreferrer"},e.select_retailer.name)]}),wp.element.createElement("a",{className:"multiple-retailers-close",onClick:(void 0).showRetailers},"Close")))}},26:function(e,t,n){"use strict";var o=n(0);t.a=function(e){var t=e.post,n=e.labels,r=e.index,a=(e.gridBlock,e.carouselCard,t.link),l=t.title,e=t.excerpt,t=t.featured_image_url,r={key:r,className:"bbc-card bbc-card__post bbc-card__post--".concat(r)},t={style:{backgroundImage:"url(".concat(t,")")},className:"poster-image"};return wp.element.createElement("article",r,wp.element.createElement("a",{href:a,"aria-label":Object(o.decodeHtml)(l.rendered)},wp.element.createElement("div",{className:"poster-wrapper"},wp.element.createElement("header",t)),wp.element.createElement("div",{className:"meta"},wp.element.createElement("p",{className:"taxonomies ".concat(n?"has-labels":"")},wp.element.createElement(React.Fragment,null,wp.element.createElement("span",null,n&&0<n.length&&n.map(function(e,t){return"".concat(e).concat(t+1!==n.length?", ":"")})),wp.element.createElement("div",{className:"icon"}))),wp.element.createElement("h3",{className:"title"},Object(o.decodeHtml)(l.rendered)),wp.element.createElement("p",{className:"description",dangerouslySetInnerHTML:{__html:Object(o.decodeHtml)(Object(o.tidyExcerpt)(e.rendered))}}))))}},45:function(e,t,n){"use strict";var d=n(0);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=function(e){var t=e.post,n=e.onlyTitle,r=e.labels,a=e.gridBlock,l=e.index,o=e.carouselCard,c=e.showFullLabel,i=t.do_not_play,s=t.acf,m=t.featured_image_url,u=t.link,p=t.title,e=i||!1,t=function(){return n||o&&!c?[wp.element.createElement("span",null,"Episode Clip"),wp.element.createElement("div",{className:"icon"})]:wp.element.createElement("span",null,"".concat(r).concat(0<s.episode_number.length?", episode ".concat(s.episode_number):""))},i=function(){if(!n||a)return wp.element.createElement("p",null,s.description)},l={key:l,className:"bbc-card bbc-card__video ".concat(e?"do-not-play":"")},m={style:{backgroundImage:"url(".concat(m,")")},className:"poster-image"};return e?wp.element.createElement("article",f({},l,{"data-deploytag":"p"}),wp.element.createElement("div",{className:"poster-wrapper"},wp.element.createElement("header",m),s.video_length&&a&&!e&&wp.element.createElement("div",{className:"length"},s.video_length),a&&!e&&wp.element.createElement("div",{className:"icon"})),wp.element.createElement("div",{className:"meta"},wp.element.createElement("p",{className:"taxonomies ".concat(r?"has-labels":"")},t()),wp.element.createElement("h3",{className:"title"},Object(d.decodeHtml)(p.rendered)),i())):wp.element.createElement("article",f({},l,{"data-deploytag":"dnp"}),wp.element.createElement("a",{href:u,"aria-label":Object(d.decodeHtml)(p.rendered)},wp.element.createElement("div",{className:"poster-wrapper"},wp.element.createElement("header",m),s.video_length&&a&&!e&&wp.element.createElement("div",{className:"length"},s.video_length),!n&&a&&wp.element.createElement("div",{className:"icon"})),wp.element.createElement("div",{className:"meta"},wp.element.createElement("p",{className:"taxonomies ".concat(r?"has-labels":"")},t()),wp.element.createElement("h3",{className:"title"},Object(d.decodeHtml)(p.rendered)),i())))}},46:function(e,t,n){"use strict";var l=n(0);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=function(e){var t=e.index,n=e.post,r=(e.labels,e.gridBlock),a=e.onlyTitle,e={key:t,className:"bbc-card bbc-card__game"},t={style:{backgroundImage:"url(".concat(n.featured_image_url,")")},className:"poster-image"};return wp.element.createElement("article",o({},e,{"data-mixed":!a}),wp.element.createElement("a",{href:n.link,"aria-label":Object(l.decodeHtml)(n.title.rendered)},wp.element.createElement("div",{className:"poster-wrapper"},wp.element.createElement("header",t)),wp.element.createElement("div",{className:"meta"},!r&&wp.element.createElement("p",{className:"taxonomies has-labels"},wp.element.createElement("span",null,"Game"),wp.element.createElement("div",{className:"icon"})),wp.element.createElement("h3",{className:"title"},Object(l.decodeHtml)(n.title.rendered)),!a&&wp.element.createElement(React.Fragment,null,wp.element.createElement("p",{className:"description"},n.acf.description),wp.element.createElement("a",{href:n.link,className:"btn btn__primary play-now"},"play now")))))}},47:function(e,t,n){"use strict";var u=n(0);t.a=function(e){var t=e.post,n=e.index,r=e.labels,a=e.onlyTitle,l=e.carouselCard,o=t.acf,c=t.featured_image_url,i=t.title,s=t.link,m=o.description,e=o.duration_minutes,t={key:n,className:"bbc-card bbc-card__download ".concat(r," ").concat(o.download&&"download-only")},n={style:{backgroundImage:"url(".concat(c,")")},className:"poster-image"},c=function(e,t,n){return-1!==e.indexOf(t)?n:e};return o.download&&!a?wp.element.createElement("article",t,wp.element.createElement("a",{href:s,"aria-label":Object(u.decodeHtml)(i.rendered)},wp.element.createElement("div",{className:"poster-wrapper"},wp.element.createElement("header",n),!l&&e&&wp.element.createElement("div",{className:"length"},Object(u.formatTime)(e))),wp.element.createElement("div",{className:"meta"},wp.element.createElement("p",{className:"taxonomies ".concat(r?"has-labels":"")},wp.element.createElement("span",null,r&&c(r,"Recipes","Recipe")),wp.element.createElement("div",{className:"icon"})),wp.element.createElement("h3",{className:"title"},Object(u.decodeHtml)(i.rendered))))):wp.element.createElement("article",t,wp.element.createElement("a",{href:s,"aria-label":Object(u.decodeHtml)(i.rendered)},wp.element.createElement("div",{className:"poster-wrapper"},wp.element.createElement("header",n),!l&&e&&wp.element.createElement("div",{className:"length"},Object(u.formatTime)(e))),wp.element.createElement("div",{className:"meta"},wp.element.createElement("p",{className:"taxonomies ".concat(r?"has-labels":"")},wp.element.createElement("span",null,r&&c(r,"Recipes","Recipe")),wp.element.createElement("div",{className:"icon"})),wp.element.createElement("h3",{className:"title"},Object(u.decodeHtml)(i.rendered)),!0!==a&&wp.element.createElement("p",null,m))))}},48:function(e,t,n){"use strict";var r=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}t.a=function(e){var t={key:e.index,className:"bbc-card bbc-card__retailer"},n=e.post.acf&&e.post.acf.retailer_logo?e.post.acf.retailer_logo.sizes.large:"";return wp.element.createElement("article",a({},t,{"aria-label":Object(r.decodeHtml)(e.post.name)}),wp.element.createElement("a",{href:e.post.acf?e.post.acf.retailer_website:e.post.website,"aria-label":Object(r.decodeHtml)(e.post.name),target:"_blank",rel:"noreffer nofollow"},wp.element.createElement("header",{className:"poster-image"},wp.element.createElement("img",{src:e.post.acf?n:e.post.logo?e.post.logo.sizes.large:null,alt:Object(r.decodeHtml)(e.post.name),title:Object(r.decodeHtml)(e.post.name)})),e.post.description&&wp.element.createElement("div",{className:"meta"},wp.element.createElement("p",{className:"post-details"},e.post.description))))}},80:function(e,t,n){"use strict";var ce=n(2),ie=n(26),se=n(45),me=n(46),ue=n(47),pe=n(0);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function de(e){var t={key:e.index,className:"bbc-character-card"};return wp.element.createElement("article",t,wp.element.createElement("header",r({},{className:"poster-image"},{"data-character-size":e.post.acf.character_size}),wp.element.createElement("img",{src:e.post.featured_image_url,title:Object(pe.decodeHtml)(e.post.title.rendered),alt:Object(pe.decodeHtml)(e.post.title.rendered)})),wp.element.createElement("div",{className:"meta"},wp.element.createElement("h3",{className:"title"},Object(pe.decodeHtml)(e.post.title.rendered)),wp.element.createElement("p",null,e.post.acf.description)))}function fe(e){var t=e.index,n=(a=e.post).acf,r=a.featured_image_url,e=a.title,a=a.link,t={key:t,className:"bbc-card bbc-card__app"},r={style:{backgroundImage:"url(".concat(r,")")},className:"poster-image"};return wp.element.createElement("article",t,wp.element.createElement("a",{href:a,"aria-label":Object(pe.decodeHtml)(e.rendered)},wp.element.createElement("div",{className:"poster-wrapper"},wp.element.createElement("header",r)),wp.element.createElement("div",{className:"meta"},wp.element.createElement("h3",{className:"title"},Object(pe.decodeHtml)(e.rendered)),wp.element.createElement("p",null,n.description))))}var be=n(48),we=n(23);function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var r=e.filter,n=e.activeFilters,t=e.setter,a=e.selected,l=(e=i(Object(ce.useState)(!1),2))[0],o=e[1];return Object(ce.useEffect)(function(){o(a)},[]),Object(ce.useEffect)(function(){var t;0<n.length&&"All"===r.name||l&&0===n.length&&"All"!==r.name?o(!1):0===n.length&&"All"===r.name&&o(!0),l&&0<n.length&&(t=!1,n.map(function(e){e.term_id===r.term_id&&(t=!0)}),o(t))},[n]),wp.element.createElement("label",{className:"check-parent",onClick:function(){return"All"!==r.name?l?1<n.length?(e=n.filter(function(e,t,n){return e.term_id!==r.term_id}),t(c(e))):t([]):t(0<n.length?[].concat(c(n),[r]):[r]):t([]),void o(!l);var e}},wp.element.createElement("input",{checked:l,type:"checkbox",value:r.id}),wp.element.createElement("span",{className:"fancy-check"}),"".concat(r.name," (").concat(r.count,")"))}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function he(e){e.name;var t=e.options,n=e.activeFilters,r=e.setActiveFilters,a=e.setApplyFilters,l=e.count,o=e.mobileCheck,c=(e=d(Object(ce.useState)(!1),2))[0],i=e[1],s=(e=d(Object(ce.useState)(!1),2))[0],m=e[1],u=Object(ce.useRef)(!1);return Object(ce.useEffect)(function(){s&&(a(!0),m(!1))},[s]),Object(ce.useEffect)(function(){if("undefined"!=typeof window){var t=function(e){u.current&&!u.current.contains(e.target)&&i(!1)};return o.isPhone?document.removeEventListener("mousedown",t):document.addEventListener("mousedown",t),function(e){document.removeEventListener("mousedown",t)}}},[o]),wp.element.createElement("div",{className:"dpg-filter-item",ref:u},wp.element.createElement("span",{className:"label"},"Filter by: "),wp.element.createElement("div",{className:"dpg-filter-item__inner"},wp.element.createElement("button",{className:"btn--filter",onClick:function(){return i(!c)},"data-open":c},wp.element.createElement("span",null,1===n.length?n[0].name:2===n.length?"".concat(n[0].name," and 1 Other"):2<n.length?"".concat(n[0].name," and ").concat(n.length-1," Others"):o?"Categories":"All"),o.isPhone?wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#424242","stroke-width":"3","stroke-linecap":"square","stroke-linejoin":"arcs"},wp.element.createElement("path",{d:"M6 9l6 6 6-6"})):wp.element.createElement("svg",{viewBox:"0 0 11 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.7491 0.930812C1.53528 0.718085 1.19001 0.719721 0.977282 0.933539C0.764554 1.14736 0.766191 1.49263 0.980009 1.70536L5.34365 6.06899C5.55637 6.28063 5.90001 6.28063 6.11274 6.06899L10.4764 1.70536C10.6902 1.49263 10.6918 1.14736 10.4791 0.933539C10.2669 0.719721 9.9211 0.718085 9.70728 0.930812L5.73092 4.90718L1.7491 0.930812Z",fill:"#5A5A87",stroke:"#5A5A87",strokeWidth:"0.5"}))),wp.element.createElement("div",{className:"dpg-filter-item__list","data-open":c},wp.element.createElement("div",{className:"checkbox-list"},wp.element.createElement(p,{filter:{term_id:"all",name:"All",count:l},selected:!0,activeFilters:n,setter:r}),t.map(function(e){return wp.element.createElement(p,{filter:e,activeFilters:n,setter:r})})),wp.element.createElement("div",{className:"dpg-filter-item__list__controls"},wp.element.createElement("button",{className:"btn--filter",onClick:function(){return r([]),m(!0),void i(!c)}},"Clear all"),wp.element.createElement("button",{className:"btn--apply",onClick:function(){return a(!0),void i(!c)}},"Apply")))))}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ge(e){var t=e.name,n=e.options,r=e.sortBy,a=e.setSortby,l=e.setApplyFilters,o=e.mobileCheck,c=e.resetAll,i=(e=f(Object(ce.useState)(!1),2))[0],s=e[1],m=(e=f(Object(ce.useState)(!1),2))[0],u=e[1],p=Object(ce.useRef)(!1);return Object(ce.useEffect)(function(){a(n[0])},[]),Object(ce.useEffect)(function(){a(n[0]),l(!0)},[c]),Object(ce.useEffect)(function(){if("undefined"!=typeof window){var e=function(e){p.current&&!p.current.contains(e.target)&&s(!1)};return o.isPhone?document.removeEventListener("mousedown",e):document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}},[o]),Object(ce.useEffect)(function(){!0===m&&(l(!0),s(!i),u(!1))},[m]),wp.element.createElement("div",{className:"dpg-filter-item",ref:p},wp.element.createElement("span",{className:"label"},"".concat(t,": ")),wp.element.createElement("div",{className:"dpg-filter-item__inner"},wp.element.createElement("button",{className:"btn--filter",onClick:function(){return s(!i)},"data-open":i},wp.element.createElement("span",null,o.isPhone?t:r.name),o.isPhone?wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#424242","stroke-width":"3","stroke-linecap":"square","stroke-linejoin":"arcs"},wp.element.createElement("path",{d:"M6 9l6 6 6-6"})):wp.element.createElement("svg",{viewBox:"0 0 11 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.7491 0.930812C1.53528 0.718085 1.19001 0.719721 0.977282 0.933539C0.764554 1.14736 0.766191 1.49263 0.980009 1.70536L5.34365 6.06899C5.55637 6.28063 5.90001 6.28063 6.11274 6.06899L10.4764 1.70536C10.6902 1.49263 10.6918 1.14736 10.4791 0.933539C10.2669 0.719721 9.9211 0.718085 9.70728 0.930812L5.73092 4.90718L1.7491 0.930812Z",fill:"#5A5A87",stroke:"#5A5A87",strokeWidth:"0.5"}))),wp.element.createElement("div",{className:"dpg-filter-item__list no-side-padding","data-open":i},n.map(function(e,t){return wp.element.createElement("button",{className:"btn--select","data-selected":r.name===e.name,key:"index",onClick:function(){return a(n[t]),void u(!0)}},e.name)}))))}function ye(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t,n,r,a,l,o){try{var c=e[l](o),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function ve(c){return function(){var e=this,o=arguments;return new Promise(function(t,n){var r=c.apply(e,o);function a(e){m(r,t,n,a,l,"next",e)}function l(e){m(r,t,n,a,l,"throw",e)}a(void 0)})}}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(l.push(r.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw a}}return l}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=function(e){var t=e.title,l=e.postType,o=e.load,c=e.order,i=e.orderby,n=e.enableFilter,r=e.enableResultCount,a=e.enableLoadMore,s=e.enableButton,m=e.buttonLabel,u=e.buttonUrl,p=e.enableFeaturedPost,d=e.classname,f=e.featureUrl,b=e.featureTitle,w=e.featureDescription,h=e.featureImage,g=e.featureLabel,y=e.featureLocation,v=e.fe_filters,E=e.fe_posts,_=e.x_wp_total,N=e.x_wp_totalpages,j=Ee(Object(ce.useState)(!1),2),O=j[0],k=j[1],S=Ee(Object(ce.useState)(0),2),x=S[0],A=S[1],C=Ee(Object(ce.useState)(!1),2),I=C[0],L=C[1],T=Ee(Object(ce.useState)({error:!1,message:""}),2),F=T[0],M=T[1],e=Ee(Object(ce.useState)(1),2),B=e[0],P=e[1],j=Ee(Object(ce.useState)(0),2),H=j[0],R=j[1],S=Ee(Object(ce.useState)(!1),2),C=S[0],D=S[1],T=Ee(Object(ce.useState)(!1),2),q=T[0],U=T[1],e=Ee(Object(ce.useState)(),2),j=e[0],z=e[1],S=Ee(Object(ce.useState)([]),2),$=S[0],J=S[1],T=Ee(Object(ce.useState)(!1),2),W=T[0],Z=T[1],e=Ee(Object(ce.useState)(!1),2),G=e[0],X=e[1],S=Ee(Object(ce.useState)(!1),2),Y=S[0],K=S[1],T=Ee(Object(ce.useState)(document.querySelector("body").getAttribute("data-post-id")),2),Q=T[0],e=(T[1],Ee(Object(ce.useState)(!1),2)),V=e[0],ee=e[1],S=Ee(Object(ce.useState)(!1),2),T=S[0],te=S[1];Object(ce.useEffect)(ve(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([le(!1,!1,E),oe(v)]).then(function(){}).catch(function(e){L(!0),console.error(e)});case 2:return e.sent,t=function(){n=n||setTimeout(function(){n=0,ae()},100)},n=0,ae(),window.addEventListener("resize",t),e.abrupt("return",function(){window.removeEventListener("resize",t)});case 8:case"end":return e.stop()}},e)})),[]),Object(ce.useEffect)(function(){Object(pe.isGutenbergActive)()&&le(!0,!0)},[l,o,c,i,n]),Object(ce.useEffect)(function(){W&&le(!0,!0)},[W]),Object(ce.useEffect)(function(){O&&L(!0)},[O]),Object(ce.useEffect)(function(){V.isPhone&&le(!0,!0)},[$]);function ne(e){return 0<e.length&&e.map(function(e){return e.name&&e.name})}var re,ae=function(){var e=Object(pe.viewportIsBelow)(700),t=Object(pe.viewportIsAbove)(700)&&Object(pe.viewportIsBelow)(981),t=!(!e&&!t)&&{isPhone:e,isTablet:t};t!==V&&ee(t)},le=function(t,e,n){if(n&&0<n.length)k(E),A(_),R(N),P(2);else{M({error:!1,message:""}),L(!1);var r=[],n="";0<$.length&&$.map(function(e){r.push(e.term_id)}),Y&&(n="&duration=".concat(Y.test));var a="product-retailers"!==l?"/wp-json/guerrilla/v1/get-posts?post_type=".concat(l,"&per_page=").concat(o,"&page=").concat(t?1:B,"&order=").concat(G?G.order:c,"&orderby=").concat(G?G.orderby:i,"&currentID=").concat(Q,"&filter=").concat(0<r.length?r:"all").concat(n):"wp/v2/product_retailers?per_page=100";try{fetch(a).then(function(e){var t=e.headers,t=parseInt(t.get("X-WP-TotalPages"),10);return A(parseInt(e.headers.get("X-WP-Total"),10)?parseInt(e.headers.get("X-WP-Total"),10):0),R(t),e.json()}).then(function(e){e&&e.code?(k([]),M({error:!0,message:"No results to display"})):(!t&&0<O.length?k([].concat(ye(O),ye(e))):k(e),P(t?2:B+1))}).then(function(){Z(!1),D(!(B<H)),e&&oe()}).catch(function(e){console.error(e),L(!0),k(!1),M({error:!0,message:e.statusText})})}catch(e){console.error(e),L(!0),k(!1),M({error:!0,message:"Sorry, there was a problem loading results."})}}},oe=function(e){if(e&&0<e.length)z(v);else try{return!0===n&&fetch("/wp-json/guerrilla/v1/get-taxonomies?post_type=".concat(l)).then(function(e){return e.json()}).then(function(e){z(void 0!==e.filters&&0<e.filters.length?e.filters:[])}).catch(function(e){L(!0),M({error:!0,message:""}),console.log(e)})}catch(e){L(!0),M({error:!0,message:"Sorry, there was a problem loading results."}),console.log(e)}},e=function(){return p&&f&&wp.element.createElement(ie.a,{post:{link:f,title:{rendered:b},excerpt:{rendered:w},featured_image_url:h},labels:!!g&&[g],index:"featured",gridBlock:!0})},S=function(){return 1==s&&wp.element.createElement("a",{className:"btn btn__primary add-button",href:u,"aria-label":m},m)};return wp.element.createElement("div",{className:"post-grid","data-last-load":C,"data-loading":!I,"aria-label":""!==t?t:"".concat(l," grid")},wp.element.createElement("div",{className:"top-bar"},t&&wp.element.createElement("h2",null,t),d&&(d.includes("two-three-layout")||d.includes("one-three-layout"))&&S()),y&&e(),wp.element.createElement("div",{className:"dpg-filter-bar"},n&&wp.element.createElement(React.Fragment,null,wp.element.createElement("button",{className:"btn btn__primary btn--open-filter",onClick:function(){te(!0),document.querySelector("body").classList.toggle("no-scroll")}},"Filter"),wp.element.createElement("div",{className:"dpg-filter-bar__options","data-open":T},V.isPhone&&wp.element.createElement(React.Fragment,null,wp.element.createElement("div",{className:"dpg-filter-item active-filters"},0<$.length&&wp.element.createElement(React.Fragment,null,wp.element.createElement("button",{className:"active-filters-clear",onClick:function(){J([])}},"Clear all"),$.map(function(t,e){return wp.element.createElement("button",{className:"active-filters-buttons",key:e,onClick:function(){var e=$.filter(function(e){return e.term_id!==t.term_id});J(ye(e))}},t.name,wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#424242","stroke-width":"3","stroke-linecap":"square","stroke-linejoin":"arcs"},wp.element.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),wp.element.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))})),wp.element.createElement("button",{className:"mobile-close-filter",onClick:function(){te(!1),document.querySelector("body").classList.toggle("no-scroll")}},"close"))),j&&0<j.length&&wp.element.createElement(he,{options:j,activeFilters:$,setActiveFilters:J,setApplyFilters:Z,count:x,mobileCheck:V}),function(){if("downloads"===l)return wp.element.createElement(ge,{name:"Duration",options:[{name:"Any"},{name:"Less than 30 mins",test:1},{name:"30 mins to 1 hr",test:2},{name:"More than 1 hr",test:3}],sortBy:Y,setSortby:K,setApplyFilters:Z,mobileCheck:V,resetAll:q})}(),(re=[{name:"videos"===l?"Latest release":"Latest",order:c||"DESC",orderby:i||"ID"},{name:"A-Z",order:"ASC",orderby:"title"}],"downloads"===l&&re.push({name:"Duration (Short-Long)",order:"ASC",orderby:"meta_value"},{name:"Duration (Long-Short)",order:"DESC",orderby:"meta_value"}),wp.element.createElement(ge,{name:"Sort by",options:re,sortBy:G,setSortby:X,setApplyFilters:Z,mobileCheck:V,resetAll:q})),V.isPhone&&0<x&&wp.element.createElement(React.Fragment,null,wp.element.createElement("button",{className:"btn btn__primary show-total-items",onClick:function(){te(!1),document.querySelector("body").classList.toggle("no-scroll")}},"Show ",x," Item",1<x&&"s")))),r&&O&&0<O.length&&wp.element.createElement("h3",{className:"result-count"},"".concat(O.length," of ").concat(x," Results"))),wp.element.createElement("div",{className:"posts-container"},I&&F.error?wp.element.createElement("div",{className:"grid-error"},wp.element.createElement("p",null,wp.element.createElement("strong",null,"No results")," ",wp.element.createElement("br",null)," Try adjusting or removing your filters"),wp.element.createElement("button",{className:"btn btn__primary",onClick:function(){J([]),U(!q)}},"Clear All")):wp.element.createElement(React.Fragment,null,!y&&e(),0<O.length&&O.map(function(e,t){return"post"===e.type?wp.element.createElement(ie.a,{post:e,labels:ne(e.post_labels),index:t,gridBlock:!0}):"videos"===e.type?wp.element.createElement(se.a,{post:e,labels:ne(e.post_labels),index:t,gridBlock:!0}):"games"===e.type?wp.element.createElement(me.a,{post:e,labels:ne(e.post_labels),index:t,gridBlock:!0}):"downloads"===e.type?wp.element.createElement(ue.a,{post:e,labels:ne(e.post_labels),index:t,gridBlock:!0}):"character"===e.type?wp.element.createElement(de,{post:e,index:t}):"products"===e.type?wp.element.createElement(we.a,{post:e,labels:ne(e.post_labels),index:t,gridBlock:!0}):"apps"===e.type?wp.element.createElement(fe,{post:e,index:t}):"product-retailers"===e.taxonomy?wp.element.createElement(be.a,{post:e,index:t}):"products"===e.taxonomy?wp.element.createElement(we.a,{post:e,index:t}):""})),!I&&wp.element.createElement("div",{className:"sk-chasing-dots"},wp.element.createElement("div",{className:"sk-child sk-dot1"}),wp.element.createElement("div",{className:"sk-child sk-dot2"}))),a&&B<H&&0<O.length&&wp.element.createElement("a",{className:"load-more btn btn__primary",onClick:function(){return le()}},"Load More"),!d&&((null==d?void 0:d.includes("two-three-layout"))||(null==d?void 0:d.includes("one-three-layout")))&&S())}}},a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=132));