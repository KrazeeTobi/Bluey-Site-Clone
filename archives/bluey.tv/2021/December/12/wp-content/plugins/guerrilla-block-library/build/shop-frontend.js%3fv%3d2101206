function r(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var n,a;this.gbl=this.gbl||{},this.gbl["shop-frontend"]=(a={},r.m=n={0:function(e,t){var r=e.exports={decodeHtml:function(e){if(e)return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(t)})},decodeHTMLEntities:function(e){for(var t=[["#038","&"],["amp","&"],["apos","'"],["#x27","'"],["#x2F","/"],["#39","'"],["#47","/"],["lt","<"],["gt",">"],["nbsp"," "],["quot",'"']],n=0,a=t.length;n<a;++n)e=e.replace(new RegExp("&"+t[n][0]+";","g"),t[n][1]);return e},YouTubeGetID:function(e){return void 0!==(e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/))[2]?e[2].split(/[^0-9a-z_\-]/i)[0]:e},formatDate:function(e){e=new Date(e);return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()]," ").concat(e.getDate(),", ").concat(e.getFullYear())},copyingIsntAlwaysCheating:function(e){var t=e.getAttribute("href"),n=document.createElement("input");n.style.position="absolute",n.style.top="-99999px";var a=document.createAttribute("value");a.value=t,document.querySelector("body").appendChild(n),n.setAttributeNode(a),n.select(),document.execCommand("copy"),n.remove(),e.classList.add("wobble"),setTimeout(function(){e.classList.remove("wobble")},1500)},isGutenbergActive:function(){return document.body.classList.contains("block-editor-page")},validateEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},cleanInput:function(e){return e=(e=e.trim()).replace(/<(?:.|\n)*?>/gm,"")},tidyExcerpt:function(e){if(e)return e=(e=e.replace(/<[^>]*>?/gm,"")).split(" ").splice(0,15).join(" ")},getCookie:function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),a=0;a<n.length;a++){for(var r=n[a];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""},setCookie:function(e,t){var n=new Date;n.setTime(n.getTime()+864e5);var a="expires="+n.toUTCString(),n=location.hostname;document.cookie="".concat(e,"=").concat(t,"; ").concat(a,"; path=/; domain=.").concat(n,"; SameSite=Lax;")},deleteCookie:function(e){var t=location.hostname;document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.").concat(t,"; SameSite=Lax;")},formatTime:function(e){var t=e%60,e=1===(e=Math.floor(e/60))?"1 hr ":1<e?"".concat(e," hrs "):"",t=1===t?"1 min":1<t?"".concat(t," mins"):"";return"".concat(e).concat(t)},viewportIsAbove:function(e){if("undefined"==typeof window)return!1;e=(window.matchMedia||window.msMatchMedia)("(min-width: ".concat(e.toString(),"px)"));return!!e&&e.matches},viewportIsBelow:function(e){if("undefined"==typeof window)return!1;e=(window.matchMedia||window.msMatchMedia)("(max-width: ".concat((e-1).toString(),"px)"));return!!e&&e.matches},checkIfMobile:function(e,t){var n=r.viewportIsBelow(768),a=r.viewportIsAbove(768)&&r.viewportIsBelow(992),a=!(!n&&!a)&&{isPhone:n,isTablet:a};a!==e&&t(a)}}},129:function(e,t,n){"use strict";n.r(t);var a=n(79);document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".wp-admin"),t=document.getElementById("fe-wp-block-bbc-shop");!e&&t&&(t=JSON.parse(document.getElementById("fe-wp-block-bbc-shop").getAttribute("data-props")),ReactDOM.render(wp.element.createElement(a.a,t),document.getElementById("fe-wp-block-bbc-shop")))})},18:function(e,t,n){e.exports=n(38)()},19:function(e,t){!function(){e.exports=this.ReactDOM}()},2:function(e,t){!function(){e.exports=this.wp.element}()},21:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},i=a(n(22)),s=a(n(40)),u=a(n(33));function a(e){return e&&e.__esModule?e:{default:e}}var r={},l=void 0;t.default={unmount:function(){r={}},register:function(e,t){r[e]=t},unregister:function(e){delete r[e]},get:function(e){return r[e]||document.getElementById(e)||document.getElementsByName(e)[0]||document.getElementsByClassName(e)[0]},setActiveLink:function(e){return l=e},getActiveLink:function(){return l},scrollTo:function(e,t){var n=this.get(e);if(n){var a=(t=o({},t,{absolute:!1})).containerId,r=t.container,l=void 0,l=a?document.getElementById(a):r&&r.nodeType?r:document;t.absolute=!0;r=t.horizontal,r=i.default.scrollOffset(l,n,r)+(t.offset||0);if(!t.smooth)return u.default.registered.begin&&u.default.registered.begin(e,n),l===document?t.horizontal?window.scrollTo(r,0):window.scrollTo(0,r):l.scrollTop=r,void(u.default.registered.end&&u.default.registered.end(e,n));s.default.animateTopScroll(r,t,e,n)}else console.warn("target Element not found")}}},22:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){for(var n=e.offsetTop,a=e.offsetParent;a&&!t(a);)n+=a.offsetTop,a=a.offsetParent;return{offsetTop:n,offsetParent:a}}t.default={updateHash:function(e,t){var n=0===e.indexOf("#")?e.substring(1):e,e=n?"#"+n:"",n=window&&window.location,n=e?n.pathname+n.search+e:n.pathname+n.search;t?history.pushState(null,"",n):history.replaceState(null,"",n)},getHash:function(){return window.location.hash.replace(/^#/,"")},filterElementInContainer:function(t){return function(e){return t.contains?t!=e&&t.contains(e):!!(16&t.compareDocumentPosition(e))}},scrollOffset:function(t,e,n){if(n)return t===document?e.getBoundingClientRect().left+(window.scrollX||window.pageXOffset):"static"!==getComputedStyle(t).position?e.offsetLeft:e.offsetLeft-t.offsetLeft;if(t===document)return e.getBoundingClientRect().top+(window.scrollY||window.pageYOffset);if("static"!==getComputedStyle(t).position){if(e.offsetParent===t)return e.offsetTop;var n=r(e,function(e){return e===t||e===document}),a=n.offsetTop;if(n.offsetParent!==t)throw new Error("Seems containerElement is not an ancestor of the Element");return a}if(e.offsetParent===t.offsetParent)return e.offsetTop-t.offsetTop;a=function(e){return e===document};return r(e,a).offsetTop-r(t,a).offsetTop}}},23:function(e,t,n){"use strict";var p=n(2),f=n(0);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,l=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}t.a=function(e){var t=e.post,n=e.labels,a=e.index,r=e.gridBlock,l=m(Object(p.useState)(""),2),o=l[0],i=l[1],s=t.featured_image_url,u=t.title,e=t.acf,l=t.link,c=e.buy_now_urls,t=e.show_detail_page,n={key:a,className:"bbc-card bbc-card__shop ".concat(n)},s={style:{backgroundImage:"url(".concat(s,")")},className:"poster-image"};return wp.element.createElement("article",d({},n,{"aria-label":Object(f.decodeHtml)(u.rendered),"data-grid-block":r}),wp.element.createElement(React.Fragment,null,t?wp.element.createElement("a",{className:"grid-block-link",href:l}):c&&1<c.length&&!t?wp.element.createElement("a",{className:"grid-block-link",href:l,onClick:function(){return i(!o)}}):wp.element.createElement("a",{className:"grid-block-link",href:c?c[0].url:"",target:"_blank"})),wp.element.createElement("div",{className:"poster-wrapper"},wp.element.createElement("header",s)),wp.element.createElement("div",{className:"meta"},wp.element.createElement("h3",{className:"title"},Object(f.decodeHtml)(u.rendered)),wp.element.createElement("div",{className:"card-button-group single-button"},c&&1<c.length&&t?wp.element.createElement(React.Fragment,null,!r&&wp.element.createElement(React.Fragment,null,wp.element.createElement("a",{href:l,className:"btn btn__primary"},"Buy"))):c&&1<c.length&&!t?wp.element.createElement(React.Fragment,null,!r&&wp.element.createElement("a",{className:"btn btn__primary mutliple-retailers",onClick:function(){return i(!o)}},"Buy")):c&&c.length<=1&&t?!r&&wp.element.createElement("a",{href:l,className:"btn btn__primary"},"Buy"):c&&c.length?!r&&wp.element.createElement("a",{href:e.buy_now_urls?e.buy_now_urls[0].url:"",target:"_blank",className:"btn btn__primary external"},"Buy"):wp.element.createElement("p",{className:"multiple-retailers-text"},"Coming soon"))),c&&1<c.length&&!t&&!r&&wp.element.createElement("div",{className:"hidden-multiple-retailers","data-display":(void 0).state.showRetailers},c.map(function(e,t){return t<=5&&[wp.element.createElement("a",{href:e.url,className:"btn btn__primary external",target:"_blank",rel:"noopener noreferrer"},e.select_retailer.name)]}),wp.element.createElement("a",{className:"multiple-retailers-close",onClick:(void 0).showRetailers},"Close")))}},30:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=c(n(4)),i=c(n(31)),s=c(n(21)),u=c(n(18)),m=c(n(41));function c(e){return e&&e.__esModule?e:{default:e}}var p={to:u.default.string.isRequired,containerId:u.default.string,container:u.default.object,activeClass:u.default.string,spy:u.default.bool,horizontal:u.default.bool,smooth:u.default.oneOfType([u.default.bool,u.default.string]),offset:u.default.number,delay:u.default.number,isDynamic:u.default.bool,onClick:u.default.func,duration:u.default.oneOfType([u.default.number,u.default.func]),absolute:u.default.bool,onSetActive:u.default.func,onSetInactive:u.default.func,ignoreCancelEvents:u.default.bool,hashSpy:u.default.bool,saveHashHistory:u.default.bool,spyThrottle:u.default.number};t.default=function(a,e){var d=e||s.default,e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.PureComponent),l(t,[{key:"getScrollSpyContainer",value:function(){var e=this.props.containerId,t=this.props.container;return e&&!t?document.getElementById(e):t&&t.nodeType?t:document}},{key:"componentDidMount",value:function(){var e;(this.props.spy||this.props.hashSpy)&&(e=this.getScrollSpyContainer(),i.default.isMounted(e)||i.default.mount(e,this.props.spyThrottle),this.props.hashSpy&&(m.default.isMounted()||m.default.mount(d),m.default.mapContainer(this.props.to,e)),i.default.addSpyHandler(this.spyHandler,e),this.setState({container:e}))}},{key:"componentWillUnmount",value:function(){i.default.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var e,t="",t=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className,n=r({},this.props);for(e in p)n.hasOwnProperty(e)&&delete n[e];return n.className=t,n.onClick=this.handleClick,o.default.createElement(a,n)}}]),t);function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.call(e),e.state={active:!1},e}var n=function(){var f=this;this.scrollTo=function(e,t){d.scrollTo(e,r({},f.state,t))},this.handleClick=function(e){f.props.onClick&&f.props.onClick(e),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),f.scrollTo(f.props.to,f.props)},this.spyHandler=function(e,t){var n=f.getScrollSpyContainer();if(!m.default.isMounted()||m.default.isInitialized()){var a=f.props.horizontal,r=f.props.to,l=null,o=void 0,i=void 0;if(a){var s=0,u=0,a=0;if(n.getBoundingClientRect&&(a=n.getBoundingClientRect().left),!l||f.props.isDynamic){if(!(l=d.get(r)))return;var c=l.getBoundingClientRect(),u=(s=c.left-a+e)+c.width}c=e-f.props.offset,o=c>=Math.floor(s)&&c<Math.floor(u),i=c<Math.floor(s)||c>=Math.floor(u)}else{var c=0,p=0,u=0;if(n.getBoundingClientRect&&(u=n.getBoundingClientRect().top),!l||f.props.isDynamic){if(!(l=d.get(r)))return;n=l.getBoundingClientRect(),p=(c=n.top-u+t)+n.height}t=t-f.props.offset;o=t>=Math.floor(c)&&t<Math.floor(p),i=t<Math.floor(c)||t>=Math.floor(p)}p=d.getActiveLink();i&&(r===p&&d.setActiveLink(void 0),f.props.hashSpy&&m.default.getHash()===r&&(i=void 0!==(i=f.props.saveHashHistory)&&i,m.default.changeHash("",i)),f.props.spy&&f.state.active&&(f.setState({active:!1}),f.props.onSetInactive&&f.props.onSetInactive(r,l))),!o||p===r&&!1!==f.state.active||(d.setActiveLink(r),p=void 0!==(p=f.props.saveHashHistory)&&p,f.props.hashSpy&&m.default.changeHash(r,p),f.props.spy&&(f.setState({active:!0}),f.props.onSetActive&&f.props.onSetActive(r,l)))}}};return e.propTypes=p,e.defaultProps={offset:0},e}},31:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(59),l=(a=r)&&a.__esModule?a:{default:a},o=n(32);var i={spyCallbacks:[],spySetState:[],scrollSpyContainers:[],mount:function(t,e){t&&(e=function(e,t){t=1<arguments.length&&void 0!==t?t:66;return(0,l.default)(e,t)}(function(e){i.scrollHandler(t)},e),i.scrollSpyContainers.push(t),(0,o.addPassiveEventListener)(t,"scroll",e))},isMounted:function(e){return-1!==i.scrollSpyContainers.indexOf(e)},currentPositionX:function(e){if(e!==document)return e.scrollLeft;var t=void 0!==window.pageYOffset,e="CSS1Compat"===(document.compatMode||"");return t?window.pageXOffset:(e?document.documentElement:document.body).scrollLeft},currentPositionY:function(e){if(e!==document)return e.scrollTop;var t=void 0!==window.pageXOffset,e="CSS1Compat"===(document.compatMode||"");return t?window.pageYOffset:(e?document.documentElement:document.body).scrollTop},scrollHandler:function(t){(i.scrollSpyContainers[i.scrollSpyContainers.indexOf(t)].spyCallbacks||[]).forEach(function(e){return e(i.currentPositionX(t),i.currentPositionY(t))})},addStateHandler:function(e){i.spySetState.push(e)},addSpyHandler:function(e,t){var n=i.scrollSpyContainers[i.scrollSpyContainers.indexOf(t)];n.spyCallbacks||(n.spyCallbacks=[]),n.spyCallbacks.push(e),e(i.currentPositionX(t),i.currentPositionY(t))},updateStates:function(){i.spySetState.forEach(function(e){return e()})},unmount:function(e,t){i.scrollSpyContainers.forEach(function(e){return e.spyCallbacks&&e.spyCallbacks.length&&e.spyCallbacks.splice(e.spyCallbacks.indexOf(t),1)}),i.spySetState&&i.spySetState.length&&i.spySetState.splice(i.spySetState.indexOf(e),1),document.removeEventListener("scroll",i.scrollHandler)},update:function(){return i.scrollSpyContainers.forEach(function(e){return i.scrollHandler(e)})}};t.default=i},32:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.addPassiveEventListener=function(e,t,n){var a=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}();e.addEventListener(t,n,!!a&&{passive:!0})},t.removePassiveEventListener=function(e,t,n){e.removeEventListener(t,n)}},33:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={registered:{},scrollEvent:{register:function(e,t){a.registered[e]=t},remove:function(e){a.registered[e]=null}}};t.default=a},36:function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},38:function(e,t,n){"use strict";var o=n(39);function a(){}function r(){}r.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,r,l){if(l!==o){l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:a};return n.PropTypes=n}},39:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4:function(e,t){!function(){e.exports=this.React}()},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=(l(n(22)),l(n(60))),o=l(n(61)),i=l(n(33));function l(e){return e&&e.__esModule?e:{default:e}}function s(e){return r.default[e.smooth]||r.default.defaultEasing}function u(){return{currentPosition:0,startPosition:0,targetPosition:0,progress:0,duration:0,cancel:!1,target:null,containerElement:null,to:null,start:null,delta:null,percent:null,delayTimeout:null}}function c(e){var t=e.data.containerElement;return t&&t!==document&&t!==document.body?t.scrollLeft:(e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||""),e?window.pageXOffset:(t?document.documentElement:document.body).scrollLeft)}function p(e){var t=e.data.containerElement;return t&&t!==document&&t!==document.body?t.scrollTop:(e=void 0!==window.pageXOffset,t="CSS1Compat"===(document.compatMode||""),e?window.pageYOffset:(t?document.documentElement:document.body).scrollTop)}function f(e,t,n){var a=t.data;t.ignoreCancelEvents||!a.cancel?(a.delta=Math.round(a.targetPosition-a.startPosition),null===a.start&&(a.start=n),a.progress=n-a.start,a.percent=a.progress>=a.duration?1:e(a.progress/a.duration),a.currentPosition=a.startPosition+Math.ceil(a.delta*a.percent),a.containerElement&&a.containerElement!==document&&a.containerElement!==document.body?t.horizontal?a.containerElement.scrollLeft=a.currentPosition:a.containerElement.scrollTop=a.currentPosition:t.horizontal?window.scrollTo(a.currentPosition,0):window.scrollTo(0,a.currentPosition),a.percent<1?(t=f.bind(null,e,t),b.call(window,t)):i.default.registered.end&&i.default.registered.end(a.to,a.target,a.currentPosition)):i.default.registered.end&&i.default.registered.end(a.to,a.target,a.currentPositionY)}function d(e){e.data.containerElement=e?e.containerId?document.getElementById(e.containerId):e.container&&e.container.nodeType?e.container:document:null}function m(e,t,n,a){var r,l;t.data=t.data||u(),window.clearTimeout(t.data.delayTimeout),o.default.subscribe(function(){t.data.cancel=!0}),d(t),t.data.start=null,t.data.cancel=!1,t.data.startPosition=(t.horizontal?c:p)(t),t.data.targetPosition=t.absolute?e:e+t.data.startPosition,t.data.startPosition!==t.data.targetPosition?(t.data.delta=Math.round(t.data.targetPosition-t.data.startPosition),t.data.duration=("function"==typeof(r=t.duration)?r:function(){return r})(t.data.delta),t.data.duration=isNaN(parseFloat(t.data.duration))?1e3:parseFloat(t.data.duration),t.data.to=n,t.data.target=a,a=s(t),l=f.bind(null,a,t),t&&0<t.delay?t.data.delayTimeout=window.setTimeout(function(){i.default.registered.begin&&i.default.registered.begin(t.data.to,t.data.target),b.call(window,l)},t.delay):(i.default.registered.begin&&i.default.registered.begin(t.data.to,t.data.target),b.call(window,l))):i.default.registered.end&&i.default.registered.end(t.data.to,t.data.target,t.data.currentPosition)}function h(e){return(e=a({},e)).data=e.data||u(),e.absolute=!0,e}var b=function(){if("undefined"!=typeof window)return window.requestAnimationFrame||window.webkitRequestAnimationFrame}()||function(e,t,n){window.setTimeout(e,n||1e3/60,(new Date).getTime())};t.default={animateTopScroll:m,getAnimationType:s,scrollToTop:function(e){m(0,h(e))},scrollToBottom:function(e){e=h(e),d(e),m((e.horizontal?function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollWidth-t.offsetWidth;e=document.body,t=document.documentElement;return Math.max(e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth)}:function(e){var t=e.data.containerElement;if(t&&t!==document&&t!==document.body)return t.scrollHeight-t.offsetHeight;e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)})(e),e)},scrollTo:function(e,t){m(e,h(t))},scrollMore:function(e,t){t=h(t),d(t);var n=(t.horizontal?c:p)(t);m(e+n,t)}}},41:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(32);var a,r=n(22),l=(a=r)&&a.__esModule?a:{default:a};n={mountFlag:!1,initialized:!1,scroller:null,containers:{},mount:function(e){this.scroller=e,this.handleHashChange=this.handleHashChange.bind(this),window.addEventListener("hashchange",this.handleHashChange),this.initStateFromHash(),this.mountFlag=!0},mapContainer:function(e,t){this.containers[e]=t},isMounted:function(){return this.mountFlag},isInitialized:function(){return this.initialized},initStateFromHash:function(){var e=this,t=this.getHash();t?window.setTimeout(function(){e.scrollTo(t,!0),e.initialized=!0},10):this.initialized=!0},scrollTo:function(e,t){var n=this.scroller;n.get(e)&&(t||e!==n.getActiveLink())&&(t=this.containers[e]||document,n.scrollTo(e,{container:t}))},getHash:function(){return l.default.getHash()},changeHash:function(e,t){this.isInitialized()&&l.default.getHash()!==e&&l.default.updateHash(e,t)},handleHashChange:function(){this.scrollTo(this.getHash())},unmount:function(){this.scroller=null,this.containers=null,window.removeEventListener("hashchange",this.handleHashChange)}};t.default=n},42:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e};function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=u(n(4)),i=(u(n(19)),u(n(21))),s=u(n(18));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default.Component),r(n,[{key:"componentDidMount",value:function(){if("undefined"==typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if("undefined"==typeof window)return!1;i.default.unregister(this.props.name)}},{key:"registerElems",value:function(e){i.default.register(e,this.childBindings.domNode)}},{key:"render",value:function(){return o.default.createElement(e,a({},this.props,{parentBindings:this.childBindings}))}}]),n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return e.childBindings={domNode:null},e}return t.propTypes={name:s.default.string,id:s.default.string},t}},48:function(e,t,n){"use strict";var a=n(0);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}t.a=function(e){var t={key:e.index,className:"bbc-card bbc-card__retailer"},n=e.post.acf&&e.post.acf.retailer_logo?e.post.acf.retailer_logo.sizes.large:"";return wp.element.createElement("article",r({},t,{"aria-label":Object(a.decodeHtml)(e.post.name)}),wp.element.createElement("a",{href:e.post.acf?e.post.acf.retailer_website:e.post.website,"aria-label":Object(a.decodeHtml)(e.post.name),target:"_blank",rel:"noreffer nofollow"},wp.element.createElement("header",{className:"poster-image"},wp.element.createElement("img",{src:e.post.acf?n:e.post.logo?e.post.logo.sizes.large:null,alt:Object(a.decodeHtml)(e.post.name),title:Object(a.decodeHtml)(e.post.name)})),e.post.description&&wp.element.createElement("div",{className:"meta"},wp.element.createElement("p",{className:"post-details"},e.post.description))))}},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Helpers=t.ScrollElement=t.ScrollLink=t.animateScroll=t.scrollSpy=t.Events=t.scroller=t.Element=t.Button=t.Link=void 0;var a=f(n(58)),r=f(n(62)),l=f(n(63)),o=f(n(21)),i=f(n(33)),s=f(n(31)),u=f(n(40)),c=f(n(30)),p=f(n(42)),n=f(n(64));function f(e){return e&&e.__esModule?e:{default:e}}t.Link=a.default,t.Button=r.default,t.Element=l.default,t.scroller=o.default,t.Events=i.default,t.scrollSpy=s.default,t.animateScroll=u.default,t.ScrollLink=c.default,t.ScrollElement=p.default,t.Helpers=n.default,t.default={Link:a.default,Button:r.default,Element:l.default,scroller:o.default,Events:i.default,scrollSpy:s.default,animateScroll:u.default,ScrollLink:c.default,ScrollElement:p.default,Helpers:n.default}},51:function(e){e.exports=JSON.parse('{"options":[{"value":"AD","label":"Andorra"},{"value":"AE","label":"United Arab Emirates"},{"value":"AF","label":"Afghanistan"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AI","label":"Anguilla"},{"value":"AL","label":"Albania"},{"value":"AM","label":"Armenia"},{"value":"AO","label":"Angola"},{"value":"AQ","label":"Antarctica"},{"value":"AR","label":"Argentina"},{"value":"AS","label":"American Samoa"},{"value":"AT","label":"Austria"},{"value":"AU","label":"Australia"},{"value":"AW","label":"Aruba"},{"value":"AX","label":"Åland Islands"},{"value":"AZ","label":"Azerbaijan"},{"value":"BA","label":"Bosnia and Herzegovina"},{"value":"BB","label":"Barbados"},{"value":"BD","label":"Bangladesh"},{"value":"BE","label":"Belgium"},{"value":"BF","label":"Burkina Faso"},{"value":"BG","label":"Bulgaria"},{"value":"BH","label":"Bahrain"},{"value":"BI","label":"Burundi"},{"value":"BJ","label":"Benin"},{"value":"BL","label":"Saint Barthélemy"},{"value":"BM","label":"Bermuda"},{"value":"BN","label":"Brunei Darussalam"},{"value":"BO","label":"Bolivia (Plurinational State of)"},{"value":"BQ","label":"Bonaire, Sint Eustatius and Saba"},{"value":"BR","label":"Brazil"},{"value":"BS","label":"Bahamas"},{"value":"BT","label":"Bhutan"},{"value":"BV","label":"Bouvet Island"},{"value":"BW","label":"Botswana"},{"value":"BY","label":"Belarus"},{"value":"BZ","label":"Belize"},{"value":"CA","label":"Canada"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CD","label":"Congo (Democratic Republic of the)"},{"value":"CF","label":"Central African Republic"},{"value":"CG","label":"Congo"},{"value":"CH","label":"Switzerland"},{"value":"CI","label":"Côte d\'Ivoire"},{"value":"CK","label":"Cook Islands"},{"value":"CL","label":"Chile"},{"value":"CM","label":"Cameroon"},{"value":"CN","label":"China"},{"value":"CO","label":"Colombia"},{"value":"CR","label":"Costa Rica"},{"value":"CU","label":"Cuba"},{"value":"CV","label":"Cabo Verde"},{"value":"CW","label":"Curaçao"},{"value":"CX","label":"Christmas Island"},{"value":"CY","label":"Cyprus"},{"value":"CZ","label":"Czech Republic"},{"value":"DE","label":"Germany"},{"value":"DJ","label":"Djibouti"},{"value":"DK","label":"Denmark"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Dominican Republic"},{"value":"DZ","label":"Algeria"},{"value":"EC","label":"Ecuador"},{"value":"EE","label":"Estonia"},{"value":"EG","label":"Egypt"},{"value":"EH","label":"Western Sahara"},{"value":"ER","label":"Eritrea"},{"value":"ES","label":"Spain"},{"value":"ET","label":"Ethiopia"},{"value":"FI","label":"Finland"},{"value":"FJ","label":"Fiji"},{"value":"FK","label":"Falkland Islands (Malvinas)"},{"value":"FM","label":"Micronesia (Federated States of)"},{"value":"FO","label":"Faroe Islands"},{"value":"FR","label":"France"},{"value":"GA","label":"Gabon"},{"value":"GD","label":"Grenada"},{"value":"GE","label":"Georgia"},{"value":"GF","label":"French Guiana"},{"value":"GG","label":"Guernsey"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GL","label":"Greenland"},{"value":"GM","label":"Gambia"},{"value":"GN","label":"Guinea"},{"value":"GP","label":"Guadeloupe"},{"value":"GQ","label":"Equatorial Guinea"},{"value":"GR","label":"Greece"},{"value":"GS","label":"South Georgia and the South Sandwich Islands"},{"value":"GT","label":"Guatemala"},{"value":"GU","label":"Guam"},{"value":"GW","label":"Guinea-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HK","label":"Hong Kong"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"HN","label":"Honduras"},{"value":"HR","label":"Croatia"},{"value":"HT","label":"Haiti"},{"value":"HU","label":"Hungary"},{"value":"ID","label":"Indonesia"},{"value":"IE","label":"Ireland"},{"value":"IL","label":"Israel"},{"value":"IM","label":"Isle of Man"},{"value":"IN","label":"India"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"IQ","label":"Iraq"},{"value":"IR","label":"Iran (Islamic Republic of)"},{"value":"IS","label":"Iceland"},{"value":"IT","label":"Italy"},{"value":"JE","label":"Jersey"},{"value":"JM","label":"Jamaica"},{"value":"JO","label":"Jordan"},{"value":"JP","label":"Japan"},{"value":"KE","label":"Kenya"},{"value":"KG","label":"Kyrgyzstan"},{"value":"KH","label":"Cambodia"},{"value":"KI","label":"Kiribati"},{"value":"KM","label":"Comoros"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"KP","label":"Korea (Democratic People\'s Republic of)"},{"value":"KR","label":"Korea (Republic of)"},{"value":"KW","label":"Kuwait"},{"value":"KY","label":"Cayman Islands"},{"value":"KZ","label":"Kazakhstan"},{"value":"LA","label":"Lao People\'s Democratic Republic"},{"value":"LB","label":"Lebanon"},{"value":"LC","label":"Saint Lucia"},{"value":"LI","label":"Liechtenstein"},{"value":"LK","label":"Sri Lanka"},{"value":"LR","label":"Liberia"},{"value":"LS","label":"Lesotho"},{"value":"LT","label":"Lithuania"},{"value":"LU","label":"Luxembourg"},{"value":"LV","label":"Latvia"},{"value":"LY","label":"Libya"},{"value":"MA","label":"Morocco"},{"value":"MC","label":"Monaco"},{"value":"MD","label":"Moldova (Republic of)"},{"value":"ME","label":"Montenegro"},{"value":"MF","label":"Saint Martin (French part)"},{"value":"MG","label":"Madagascar"},{"value":"MH","label":"Marshall Islands"},{"value":"MK","label":"Macedonia (the former Yugoslav Republic of)"},{"value":"ML","label":"Mali"},{"value":"MM","label":"Myanmar"},{"value":"MN","label":"Mongolia"},{"value":"MO","label":"Macao"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"Mauritania"},{"value":"MS","label":"Montserrat"},{"value":"MT","label":"Malta"},{"value":"MU","label":"Mauritius"},{"value":"MV","label":"Maldives"},{"value":"MW","label":"Malawi"},{"value":"MX","label":"Mexico"},{"value":"MY","label":"Malaysia"},{"value":"MZ","label":"Mozambique"},{"value":"NA","label":"Namibia"},{"value":"NC","label":"New Caledonia"},{"value":"NE","label":"Niger"},{"value":"NF","label":"Norfolk Island"},{"value":"NG","label":"Nigeria"},{"value":"NI","label":"Nicaragua"},{"value":"NL","label":"Netherlands"},{"value":"NO","label":"Norway"},{"value":"NP","label":"Nepal"},{"value":"NR","label":"Nauru"},{"value":"NU","label":"Niue"},{"value":"NZ","label":"New Zealand"},{"value":"OM","label":"Oman"},{"value":"PA","label":"Panama"},{"value":"PE","label":"Peru"},{"value":"PF","label":"French Polynesia"},{"value":"PG","label":"Papua New Guinea"},{"value":"PH","label":"Philippines"},{"value":"PK","label":"Pakistan"},{"value":"PL","label":"Poland"},{"value":"PM","label":"Saint Pierre and Miquelon"},{"value":"PN","label":"Pitcairn"},{"value":"PR","label":"Puerto Rico"},{"value":"PS","label":"Palestine, State of"},{"value":"PT","label":"Portugal"},{"value":"PW","label":"Palau"},{"value":"PY","label":"Paraguay"},{"value":"QA","label":"Qatar"},{"value":"RE","label":"Réunion"},{"value":"RO","label":"Romania"},{"value":"RS","label":"Serbia"},{"value":"RU","label":"Russian Federation"},{"value":"RW","label":"Rwanda"},{"value":"SA","label":"Saudi Arabia"},{"value":"SB","label":"Solomon Islands"},{"value":"SC","label":"Seychelles"},{"value":"SD","label":"Sudan"},{"value":"SE","label":"Sweden"},{"value":"SG","label":"Singapore"},{"value":"SH","label":"Saint Helena, Ascension and Tristan da Cunha"},{"value":"SI","label":"Slovenia"},{"value":"SJ","label":"Svalbard and Jan Mayen"},{"value":"SK","label":"Slovakia"},{"value":"SL","label":"Sierra Leone"},{"value":"SM","label":"San Marino"},{"value":"SN","label":"Senegal"},{"value":"SO","label":"Somalia"},{"value":"SR","label":"Surilabel"},{"value":"SS","label":"South Sudan"},{"value":"ST","label":"Sao Tome and Principe"},{"value":"SV","label":"El Salvador"},{"value":"SX","label":"Sint Maarten (Dutch part)"},{"value":"SY","label":"Syrian Arab Republic"},{"value":"SZ","label":"Swaziland"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TD","label":"Chad"},{"value":"TF","label":"French Southern Territories"},{"value":"TG","label":"Togo"},{"value":"TH","label":"Thailand"},{"value":"TJ","label":"Tajikistan"},{"value":"TK","label":"Tokelau"},{"value":"TL","label":"Timor-Leste"},{"value":"TM","label":"Turkmenistan"},{"value":"TN","label":"Tunisia"},{"value":"TO","label":"Tonga"},{"value":"TR","label":"Turkey"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TV","label":"Tuvalu"},{"value":"TW","label":"Taiwan, Province of China"},{"value":"TZ","label":"Tanzania, United Republic of"},{"value":"UA","label":"Ukraine"},{"value":"UG","label":"Uganda"},{"value":"GB","label":"United Kingdom"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"US","label":"United States of America"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Uzbekistan"},{"value":"VA","label":"Holy See"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"VE","label":"Venezuela (Bolivarian Republic of)"},{"value":"VG","label":"Virgin Islands (British)"},{"value":"VI","label":"Virgin Islands (U.S.)"},{"value":"VN","label":"Viet Nam"},{"value":"VU","label":"Vanuatu"},{"value":"WF","label":"Wallis and Futuna"},{"value":"WS","label":"Samoa"},{"value":"YE","label":"Yemen"},{"value":"YT","label":"Mayotte"},{"value":"ZA","label":"South Africa"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]}')},56:function(e,t,n){"use strict";var a=n(0);t.a=function(e){return wp.element.createElement("div",{className:"wp-block-gbl-bbc-accordian"},wp.element.createElement("input",{id:e.name,className:"toggle",type:"checkbox"}),wp.element.createElement("label",{htmlFor:e.name,className:"lbl-toggle"},Object(a.decodeHtml)(e.title)),wp.element.createElement("div",{className:"collapsible-content"},wp.element.createElement("div",{className:"content-inner"},e.content)))}},58:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(4)),a=r(n(30));function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,l.default.Component),n=i;function i(){var e,t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t=o(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(a)))).render=function(){return l.default.createElement("a",t.props,t.props.children)},o(t,e)}t.default=(0,a.default)(n)},59:function(a,e,t){(function(e){var y="Expected a function",r=NaN,l="[object Symbol]",o=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,t="object"==typeof e&&e&&e.Object===Object&&e,e="object"==typeof self&&self&&self.Object===Object&&self,n=t||e||Function("return this")(),p=Object.prototype.toString,g=Math.max,w=Math.min,S=function(){return n.Date.now()};function f(a,n,e){var r,l,o,i,s,u,c=0,p=!1,f=!1,t=!0;if("function"!=typeof a)throw new TypeError(y);function d(e){var t=r,n=l;return r=l=void 0,c=e,i=a.apply(n,t)}function m(e){var t=e-u;return void 0===u||n<=t||t<0||f&&o<=e-c}function h(){var e,t=S();if(m(t))return b(t);s=setTimeout(h,(t=n-((e=t)-u),f?w(t,o-(e-c)):t))}function b(e){return s=void 0,t&&r?d(e):(r=l=void 0,i)}function v(){var e=S(),t=m(e);if(r=arguments,l=this,u=e,t){if(void 0===s)return c=t=u,s=setTimeout(h,n),p?d(t):i;if(f)return s=setTimeout(h,n),d(u)}return void 0===s&&(s=setTimeout(h,n)),i}return n=P(n)||0,E(e)&&(p=!!e.leading,f="maxWait"in e,o=f?g(P(e.maxWait)||0,n):o,t="trailing"in e?!!e.trailing:t),v.cancel=function(){void 0!==s&&clearTimeout(s),r=u=l=s=void(c=0)},v.flush=function(){return void 0===s?i:b(S())},v}function E(e){var t=typeof e;return e&&("object"==t||"function"==t)}function P(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||!!(n=t)&&"object"==typeof n&&p.call(t)==l)return r;var t,n;if(E(e)&&(e=E(a="function"==typeof e.valueOf?e.valueOf():e)?a+"":a),"string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var a=s.test(e);return a||u.test(e)?c(e.slice(2),a?2:8):i.test(e)?r:+e}a.exports=function(e,t,n){var a=!0,r=!0;if("function"!=typeof e)throw new TypeError(y);return E(n)&&(a="leading"in n?!!n.leading:a,r="trailing"in n?!!n.trailing:r),f(e,t,{leading:a,maxWait:t,trailing:r})}}).call(this,t(36))},60:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={defaultEasing:function(e){return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}}},61:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(32),r=["mousedown","mousewheel","touchmove","keydown"];t.default={subscribe:function(t){return"undefined"!=typeof document&&r.forEach(function(e){return(0,a.addPassiveEventListener)(document,e,t)})}}},62:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var l=o(n(4)),n=o(n(30));function o(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,l.default.Component),a(i,[{key:"render",value:function(){return l.default.createElement("input",this.props,this.props.children)}}]),a=i;function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}t.default=(0,n.default)(a)},63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e};function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=s(n(4)),i=s(n(42)),n=s(n(18));function s(e){return e&&e.__esModule?e:{default:e}}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(u,o.default.Component),r(u,[{key:"render",value:function(){var t=this,e=a({},this.props);return e.parentBindings&&delete e.parentBindings,o.default.createElement("div",a({},e,{ref:function(e){t.props.parentBindings.domNode=e}}),this.props.children)}}]),r=u;function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}r.propTypes={name:n.default.string,id:n.default.string},t.default=(0,i.default)(r)},64:function(e,t,n){"use strict";var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=n(4),f=(n(19),n(22),n(31)),d=n(21),r=n(18),m=n(41),h={to:r.string.isRequired,containerId:r.string,container:r.object,activeClass:r.string,spy:r.bool,smooth:r.oneOfType([r.bool,r.string]),offset:r.number,delay:r.number,isDynamic:r.bool,onClick:r.func,duration:r.oneOfType([r.number,r.func]),absolute:r.bool,onSetActive:r.func,onSetInactive:r.func,ignoreCancelEvents:r.bool,hashSpy:r.bool,spyThrottle:r.number},n={Scroll:function(a,e){console.warn("Helpers.Scroll is deprecated since v1.7.0");var u=e||d,t=(c(n,p.Component),o(n,[{key:"getScrollSpyContainer",value:function(){var e=this.props.containerId,t=this.props.container;return e?document.getElementById(e):t&&t.nodeType?t:document}},{key:"componentDidMount",value:function(){var e;(this.props.spy||this.props.hashSpy)&&(e=this.getScrollSpyContainer(),f.isMounted(e)||f.mount(e,this.props.spyThrottle),this.props.hashSpy&&(m.isMounted()||m.mount(u),m.mapContainer(this.props.to,e)),this.props.spy&&f.addStateHandler(this.stateHandler),f.addSpyHandler(this.spyHandler,e),this.setState({container:e}))}},{key:"componentWillUnmount",value:function(){f.unmount(this.stateHandler,this.spyHandler)}},{key:"render",value:function(){var e,t="",t=this.state&&this.state.active?((this.props.className||"")+" "+(this.props.activeClass||"active")).trim():this.props.className,n=l({},this.props);for(e in h)n.hasOwnProperty(e)&&delete n[e];return n.className=t,n.onClick=this.handleClick,p.createElement(a,n)}}]),n);function n(e){i(this,n);e=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return r.call(e),e.state={active:!1},e}var r=function(){var s=this;this.scrollTo=function(e,t){u.scrollTo(e,l({},s.state,t))},this.handleClick=function(e){s.props.onClick&&s.props.onClick(e),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),s.scrollTo(s.props.to,s.props)},this.stateHandler=function(){u.getActiveLink()!==s.props.to&&(null!==s.state&&s.state.active&&s.props.onSetInactive&&s.props.onSetInactive(),s.setState({active:!1}))},this.spyHandler=function(e){var t=s.getScrollSpyContainer();if(!m.isMounted()||m.isInitialized()){var n=s.props.to,a=null,r=0,l=0,o=0;if(t.getBoundingClientRect&&(o=t.getBoundingClientRect().top),!a||s.props.isDynamic){if(!(a=u.get(n)))return;var i=a.getBoundingClientRect(),l=(r=i.top-o+e)+i.height}i=e-s.props.offset,e=i>=Math.floor(r)&&i<Math.floor(l),i=i<Math.floor(r)||i>=Math.floor(l),l=u.getActiveLink();return i?(n===l&&u.setActiveLink(void 0),s.props.hashSpy&&m.getHash()===n&&m.changeHash(),s.props.spy&&s.state.active&&(s.setState({active:!1}),s.props.onSetInactive&&s.props.onSetInactive()),f.updateStates()):e&&l!==n?(u.setActiveLink(n),s.props.hashSpy&&m.changeHash(n),s.props.spy&&(s.setState({active:!0}),s.props.onSetActive&&s.props.onSetActive(n)),f.updateStates()):void 0}}};return t.propTypes=h,t.defaultProps={offset:0},t},Element:function(e){console.warn("Helpers.Element is deprecated since v1.7.0");var t=(c(n,p.Component),o(n,[{key:"componentDidMount",value:function(){if("undefined"==typeof window)return!1;this.registerElems(this.props.name)}},{key:"componentDidUpdate",value:function(e){this.props.name!==e.name&&this.registerElems(this.props.name)}},{key:"componentWillUnmount",value:function(){if("undefined"==typeof window)return!1;d.unregister(this.props.name)}},{key:"registerElems",value:function(e){d.register(e,this.childBindings.domNode)}},{key:"render",value:function(){return p.createElement(e,l({},this.props,{parentBindings:this.childBindings}))}}]),n);function n(e){i(this,n);e=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return e.childBindings={domNode:null},e}return t.propTypes={name:r.string,id:r.string},t}};e.exports=n},79:function(e,t,n){"use strict";n.d(t,"a",function(){return I});function l(e){var t=e.currentPage,n=e.totalPages,a=e.prevPage,r=e.nextPage,e=function(e){return"prev"===e?1===t?"btn__disabled":"":"next"===e?n<=t?"btn__disabled":"":void 0};return 1<n&&wp.element.createElement("div",{className:"button-group shop-3-qtr"},wp.element.createElement("div",{className:"pagination"},wp.element.createElement("button",{className:"prev ".concat(e("prev")),onClick:a},"prev"),wp.element.createElement("p",null,t),wp.element.createElement("button",{className:"next ".concat(e("next")),onClick:r},"next"),wp.element.createElement("span",{className:"total-page-count"},"of ".concat(null!==n?n:0))),wp.element.createElement("button",{className:"next-page btn btn__primary ".concat(e("next")," btn__icon btn__icon--forward"),onClick:r},"Next"))}var c=n(2),t=n(49),o=n(23),i=n(56),s=n(0);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=h(n);return function(e,t){{if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return m(e)}(this,a?(e=h(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){var t=e.submit,n=e.value,e=e.update;return wp.element.createElement("form",{onSubmit:t},wp.element.createElement(a,{type:"text",value:n,placeholder:"Search products",onChange:e}),wp.element.createElement("button",{type:"submit",onClick:t},"search"))}function v(e){var t=e.filterType,n=e.id,a=e.name,r=e.index,l=e.checked,o=e.amount,e=e.filter;return wp.element.createElement("label",{className:"check-parent","data-type":t,"data-filter-by":n,"data-filter-name":a,key:r,onClick:e},wp.element.createElement("input",{checked:l,type:"checkbox",name:n,value:a}),wp.element.createElement("span",{className:"fancy-check"}),"retailersFilterList"!==t&&void 0!==o?"".concat(a," (").concat(o,")"):"".concat(a))}var a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(r,c["Component"]);var e,t,n,a=d(r);function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=a.call(this,e)).clearValue=e.clearValue.bind(m(e)),e.handleChange=e.handleChange.bind(m(e)),e.state={value:e.props.value||""},e}return e=r,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props;e.value!==t.value&&this.setState({value:t.value})}},{key:"clearValue",value:function(){this.setState({value:""},function(){this.props.onChange({target:{value:""}})})}},{key:"handleChange",value:function(e){console.log("change",e.currentTarget.value),this.setState({value:e.currentTarget.value},function(){}),this.props.onChange(e)}},{key:"isIE",value:function(){return window.navigator.userAgent.includes(".NET")?"ie-browser":"not-ie"}},{key:"render",value:function(){return[wp.element.createElement("span",{className:"clear-input"},wp.element.createElement("input",u({},this.props,{value:this.state.value,onChange:this.handleChange})),wp.element.createElement("a",{className:this.isIE(),"data-hidden":!this.state.value,onClick:this.clearValue},"x"))]}}])&&p(e.prototype,t),n&&p(e,n),r}();function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,l=[],o=!0,i=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(i)throw r}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function w(e){var t=e.name,a=e.options,n=e.sortBy,r=e.setSortby,l=e.mobileCheck,o=e.setDefault,i=(e=y(Object(c.useState)(!1),2))[0],s=e[1],u=Object(c.useRef)(!1);return Object(c.useEffect)(function(){var n;o&&a&&0<a.length?(n=0,a.map(function(e,t){e.isDefault&&(n=t)}),r(a[n])):r(a[0])},[]),Object(c.useEffect)(function(){if("undefined"!=typeof window){var e=function(e){u.current&&!u.current.contains(e.target)&&s(!1)};return l.isPhone?document.removeEventListener("mousedown",e):document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}},[]),wp.element.createElement("div",{className:"shop-filter-item",ref:u},wp.element.createElement("span",{className:"label"},"".concat(t,": ")),wp.element.createElement("div",{className:"shop-filter-item__inner"},wp.element.createElement("button",{className:"btn--filter",onClick:function(){return s(!i)},"data-open":i},wp.element.createElement("span",null,l.isPhone?t:n.name),l.isPhone?wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"#424242","stroke-width":"3","stroke-linecap":"square","stroke-linejoin":"arcs"},wp.element.createElement("path",{d:"M6 9l6 6 6-6"})):wp.element.createElement("svg",{viewBox:"0 0 11 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.7491 0.930812C1.53528 0.718085 1.19001 0.719721 0.977282 0.933539C0.764554 1.14736 0.766191 1.49263 0.980009 1.70536L5.34365 6.06899C5.55637 6.28063 5.90001 6.28063 6.11274 6.06899L10.4764 1.70536C10.6902 1.49263 10.6918 1.14736 10.4791 0.933539C10.2669 0.719721 9.9211 0.718085 9.70728 0.930812L5.73092 4.90718L1.7491 0.930812Z",fill:"#5A5A87",stroke:"#5A5A87",strokeWidth:"0.5"}))),wp.element.createElement("div",{className:"shop-filter-item__list no-side-padding","data-open":i},a.map(function(e,t){return wp.element.createElement("button",{className:"btn--select","data-selected":n.name===e.name,key:"index",onClick:function(){return r(a[t]),void s(!1)}},e.name)}))))}n(51);var S=n(48);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function O(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(n){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=j(n);return function(e,t){{if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined")}return M(e)}(this,a?(e=j(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var L=t.scroller,I=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(r,c["Component"]);var e,t,n,a=T(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=a.call(this,e),document.referrer.includes("products")&&!document.referrer.includes("shop")||(Object(s.deleteCookie)("bluey_shop_categoriesFilterList"),Object(s.deleteCookie)("bluey_shop_retailersFilterList"),Object(s.deleteCookie)("bluey_shop_searchText"),Object(s.deleteCookie)("bluey_shop_resultsPage")),t.state={postsLoading:!0,posts:[],totalPosts:"",resultsPage:Object(s.getCookie)("bluey_shop_resultsPage")?Object(s.getCookie)("bluey_shop_resultsPage"):1,totalResultPages:0,filtersLoading:!0,initialLoad:!0,categoriesFilterList:""!==document.querySelector("body").getAttribute("data-shop-tax")?[document.querySelector("body").getAttribute("data-shop-tax")]:Object(s.getCookie)("bluey_shop_categoriesFilterList")?Object(s.getCookie)("bluey_shop_categoriesFilterList").split(","):[],retailersFilterList:Object(s.getCookie)("bluey_shop_retailersFilterList")?Object(s.getCookie)("bluey_shop_retailersFilterList").split(","):[],searchText:Object(s.getCookie)("bluey_shop_searchText")?Object(s.getCookie)("bluey_shop_searchText"):"",productCategories:[],retailers:[],reorderProducts:t.props.order||"desc",orderValue:"",orderText:"Sort by",sortBy:!1,openFilter:!1,noPosts:!1,mobileCheck:!1};var n=new URL(window.location),e=n.searchParams.get("category"),n=n.searchParams.get("retailer");return e&&(t.state.categoriesFilterList=e.split(",")),n&&(t.state.retailersFilterList=n.split(",")),t.applyFilter=t.applyFilter.bind(M(t)),t.searchField=t.searchField.bind(M(t)),t.submitSearch=t.submitSearch.bind(M(t)),t.reorderProducts=t.reorderProducts.bind(M(t)),t.nextPage=t.nextPage.bind(M(t)),t.prevPage=t.prevPage.bind(M(t)),t.fetchPosts=t.fetchPosts.bind(M(t)),t.openFilter=t.openFilter.bind(M(t)),t.clearAllFiltersAction=t.clearAllFiltersAction.bind(M(t)),t.checkIfMobile=t.checkIfMobile.bind(M(t)),t}return e=r,(t=[{key:"componentDidMount",value:function(){var t=this,e=(Promise.all([this.fetchPosts(),this.getStoreFilters()]).then(function(e){t.setState({initialLoad:!1})}).catch(function(e){console.log(e)}),0);this.checkIfMobile(),window.addEventListener("resize",function(){e=e||setTimeout(function(){e=0,t.checkIfMobile()},100)})}},{key:"checkIfMobile",value:function(){var e=Object(s.viewportIsBelow)(700),t=Object(s.viewportIsAbove)(700)&&Object(s.viewportIsBelow)(981),t=!(!e&&!t)&&{isPhone:e,isTablet:t};t!==this.state.mobileCheck&&this.setState({mobileCheck:t})}},{key:"componentDidUpdate",value:function(e,t){var n=this;e.load===this.props.load&&e.order===this.props.order&&e.orderby===this.props.orderby||(this.setState({productCategories:[],retailers:[],categoriesFilterList:[],retailersFilterList:[],postsLoading:!0,filtersLoading:!0,forceScroll:!1}),this.fetchPosts(),this.getStoreFilters()),t.categoriesFilterList!=this.state.categoriesFilterList&&(e=new URL(window.location).pathname.split("/"),0<this.state.categoriesFilterList.length?(t=this.state.productCategories.find(function(e){return e.term_id==n.state.categoriesFilterList[0]}),e[3]=t.slug):e=e.splice(0,3),window.history.replaceState({},"",e.join("/")))}},{key:"fetchPosts",value:function(){var t=this;this.setState({postsLoading:!0,noPosts:!1}),this.state.forceScroll&&L.scrollTo("shop-grid",{duration:1500,smooth:"easeInOutQuad",offset:-100});try{fetch("/wp-json/guerrilla/v1/get-store-products?post_type=products&per_page=".concat(this.props.load,"&page=").concat(this.state.resultsPage,"&order=").concat(this.props.order,"&orderby=").concat(this.props.orderby,"&categoriesFilterList=").concat(this.state.categoriesFilterList,"&retailersFilterList=").concat(this.state.retailersFilterList,"&searchText=").concat(this.state.searchText,"&reorder=").concat(this.state.reorderProducts)).then(function(e){return t.setState({totalPosts:e.headers.get("X-WP-Total")?parseInt(e.headers.get("X-WP-Total"),10):"",totalResultPages:e.headers.get("X-WP-TotalPages")?parseInt(e.headers.get("X-WP-TotalPages"),10):""}),e.json()}).then(function(e){e.code&&"no_posts"===e.code?(errorText="Sorry, there are no items to show.",t.setState({posts:[],noPosts:!0,postsLoading:!1,errorMessage:errorText})):t.setState({posts:e,postsLoading:!1,forceScroll:!1})}).catch(function(e){e=404==e.status?"Sorry, there are no items to show.":"Sorry, there seems to be a problem loading this content.";t.setState({posts:[],noPosts:!0,postsLoading:!1,errorMessage:e})})}catch(e){console.log(e),this.setState({postsLoading:!1})}}},{key:"getStoreFilters",value:function(){var t=this;try{fetch("/wp-json/guerrilla/v1/get-store-filters?retailersFilterList=".concat(this.state.retailersFilterList,"&categoriesFilterList=").concat(this.state.categoriesFilterList)).then(function(e){return e.json()}).then(function(e){t.setState({productCategories:void 0!==e.categories&&0<e.categories.length?e.categories:[],retailers:void 0!==e.retailers&&0<e.retailers.length?e.retailers:[]})}).then(function(){t.setState({filtersLoading:!1})}).catch(function(e){t.setState({filtersLoading:!1}),console.log(e)})}catch(e){console.log(e),this.setState({filtersLoading:!1})}}},{key:"listItems",value:function(e,t,n,a,r,l){return 0<e&&wp.element.createElement(v,{checked:!!this.state[r].includes(e.toString()),id:e,name:t,index:a,filterType:r,filter:this.applyFilter,amount:l})}},{key:"buildCategoryList",value:function(){var n=this;return 0<this.state.productCategories.length&&this.state.productCategories.map(function(e,t){return n.listItems(e.term_id,e.name,e.slug,t,"categoriesFilterList",e.product_count,null)})}},{key:"buildReatilersList",value:function(){var n=this;return 0<this.state.retailers.length&&this.state.retailers.map(function(e,t){return n.listItems(e.term_id,e.name,e.slug,t,"retailersFilterList",e.product_count,null)})}},{key:"applyFilter",value:function(e){var t=this;e.preventDefault();var n=e.target,a=n.getAttribute("data-type"),r=n.getAttribute("data-filter-by"),e=void 0!==this.state[a]&&0<this.state[a].length?C(this.state[a]):[],n=document.querySelector('label[data-filter-by="'.concat(r,'"] input'));0==n.checked?n.checked=!0:1==n.checked&&(n.checked=!1);e.some(function(e){return e==r})?e=e.filter(function(e){return e!=r}):e.push(r),this.setState((P(n={},a,C(e)),P(n,"totalPosts",""),P(n,"resultsPage",1),P(n,"totalResultPages",0),n),function(){t.fetchPosts(),t.getStoreFilters(),Object(s.setCookie)("bluey_shop_".concat(a),t.state[a]),Object(s.setCookie)("bluey_shop_resultsPage",t.state.resultsPage)})}},{key:"buttonItems",value:function(t,e,n,a){e=this.state[e].map(function(e){if(e.term_id==parseFloat(t))return e.name});return wp.element.createElement("a",{className:"all-selected-buttons","data-type":n,"data-filter-by":parseFloat(t),key:a,onClick:this.applyFilter},e)}},{key:"AllSelectedCategories",value:function(){var n=this;return 0<this.state.categoriesFilterList.length&&this.state.categoriesFilterList.map(function(e,t){return n.buttonItems(e,"productCategories","categoriesFilterList",t)})}},{key:"AllSelectedRetailers",value:function(){var n=this;return 0<this.state.retailersFilterList.length&&this.state.retailersFilterList.map(function(e,t){return n.buttonItems(e,"retailers","retailersFilterList",t)})}},{key:"clearAllFilters",value:function(){return 0<this.state.categoriesFilterList.length||0<this.state.retailersFilterList.length?wp.element.createElement("a",{className:"all-selected-buttons clear-all",onClick:this.clearAllFiltersAction},"Clear all"):""}},{key:"clearAllFiltersAction",value:function(){var n=this,a=document.querySelector(".wp-block-bbc-shop").querySelectorAll('input[type="checkbox"]');this.setState({retailersFilterList:[],categoriesFilterList:[],searchText:""},function(){for(var e=0;e<a.length;e++){var t=a[e];1==t.checked&&(t.checked=!1)}n.fetchPosts(),Object(s.deleteCookie)("bluey_shop_categoriesFilterList"),Object(s.deleteCookie)("bluey_shop_retailersFilterList")})}},{key:"getPosts",value:function(){return 0<this.state.posts.length&&this.state.posts.map(function(e,t){return wp.element.createElement(o.a,{post:e,index:t,gridBlock:!1})})}},{key:"productsFoundCount",value:function(){return 0<this.state.posts.length&&null!==this.state.totalPosts&&wp.element.createElement("p",{className:"result-count"},"".concat(this.state.totalPosts," ").concat(1<this.state.posts.length?"Products":"Product"," found"))}},{key:"searchField",value:function(e){var t=this,n=e.target;this.setState({searchText:n.value},function(){""===t.state.searchText&&t.submitSearch(e),Object(s.setCookie)("bluey_shop_searchText",t.state.searchText)})}},{key:"submitSearch",value:function(e){e.preventDefault&&e.preventDefault(),this.fetchPosts(),Object(s.setCookie)("bluey_shop_resultsPage",this.state.resultsPage)}},{key:"reorderProducts",value:function(e){var t=this;this.setState({sortBy:e,reorderProducts:e.order,totalPosts:"",resultsPage:1,totalResultPages:0},function(){t.state.initialLoad||t.fetchPosts(),Object(s.setCookie)("bluey_shop_resultsPage",t.state.resultsPage)})}},{key:"groupDropdowns",value:function(){return wp.element.createElement(w,{name:"Sort by",options:[{name:"Newest first",order:"desc",orderby:"ID"},{name:"Price (Low to High)",order:"price-asc",orderby:"ID"},{name:"Price (High to Low)",order:"price-desc",orderby:"ID"}],sortBy:this.state.sortBy,setSortby:this.reorderProducts,mobileCheck:this.state.mobileCheck})}},{key:"openFilter",value:function(){document.querySelector("body").classList.toggle("no-scroll");var e=this.state.openFilter;this.setState({openFilter:!e})}},{key:"nextPage",value:function(){var e=this;this.state.resultsPage<this.state.totalResultPages&&this.setState({resultsPage:this.state.resultsPage+1,forceScroll:!0},function(){e.fetchPosts(),Object(s.setCookie)("bluey_shop_resultsPage",e.state.resultsPage)})}},{key:"prevPage",value:function(){var e=this;1<this.state.resultsPage&&this.setState({resultsPage:this.state.resultsPage-1,forceScroll:!0},function(){e.fetchPosts(),Object(s.setCookie)("bluey_shop_resultsPage",e.state.resultsPage)})}},{key:"isLoading",value:function(){return(!1!==this.state.postsLoading||!1!==this.state.filtersLoading)&&!0!==this.state.noPosts}},{key:"getRetailers",value:function(){return 0<this.state.retailers.length&&this.state.retailers.map(function(e,t){return wp.element.createElement(S.a,{post:e,index:t})})}},{key:"render",value:function(){var e=this.isLoading();return[wp.element.createElement("div",{className:"button-section shop-qtr"},wp.element.createElement("a",{className:"btn btn__primary btn__icon--back",href:"/grown-ups"},"Grown ups")),wp.element.createElement("div",{className:"title-section shop-hlf"},this.props.title&&wp.element.createElement("h1",null,this.props.title)),wp.element.createElement("div",{className:"search-section shop-qtr"},wp.element.createElement(b,{submit:this.submitSearch,update:this.searchField,value:this.state.searchText})),wp.element.createElement("div",{className:"filter-title-section shop-qtr"},wp.element.createElement("h2",null,"Filter by"),wp.element.createElement("a",{className:"btn btn__primary filter",onClick:this.openFilter},"Filter")),wp.element.createElement("div",{className:"options-section shop-3-qtr"},this.groupDropdowns(),this.productsFoundCount()),wp.element.createElement("div",{className:"filter-sidebar shop-qtr","data-loading":e,"data-open":this.state.openFilter},wp.element.createElement("div",{className:"active-filters"},wp.element.createElement("h4",null,"Filters"),wp.element.createElement("a",{className:"mobile-close-filter",onClick:this.openFilter},"close"),this.clearAllFilters(),this.AllSelectedCategories(),this.AllSelectedRetailers()),this.groupDropdowns(),0<this.state.productCategories.length&&!1!==this.props.showCategories&&wp.element.createElement(i.a,{name:"categories-dropdown",title:"Categories",content:this.buildCategoryList()}),0<this.state.retailers.length&&!1!==this.props.showRetailers&&wp.element.createElement(i.a,{name:"retailers-dropdown",title:"Retailers",content:this.buildReatilersList()}),wp.element.createElement("div",{className:"show-container"},wp.element.createElement("a",{className:"btn btn__primary show",onClick:this.openFilter},"Show ".concat(this.state.totalPosts," items")))),wp.element.createElement("div",{className:"shop-grid shop-3-qtr",name:"shop-grid","data-loading":e},this.state.noPosts&&wp.element.createElement("div",{className:"search-no-posts"},""!==this.state.searchText?[wp.element.createElement("h3",null,"Cheese and crackers!"),wp.element.createElement("p",null,"The term - ",wp.element.createElement("strong",null,this.state.searchText)," - did not find any matches."),wp.element.createElement("p",null,wp.element.createElement("strong",null,"SUGGESTIONS:")),wp.element.createElement("ul",null,wp.element.createElement("li",null,"Make sure that all words are spelled correctly."),wp.element.createElement("li",null,"Try different keywords."),wp.element.createElement("li",null,"Try more general keywords."),wp.element.createElement("li",null,"Try fewer keywords.")),wp.element.createElement("button",{className:"clear-all btn btn__primary ",onClick:this.clearAllFiltersAction},"Shop all products")]:[wp.element.createElement("h3",null,"Cheese and crackers!"),wp.element.createElement("p",{className:"not-available-text"},"Sorry, there are no products available in your country."),wp.element.createElement("a",{className:"clear-all btn btn__primary",href:"/"},"Go Home")]),this.getPosts(),e&&wp.element.createElement("div",{className:"sk-chasing-dots"},wp.element.createElement("div",{className:"sk-child sk-dot1"}),wp.element.createElement("div",{className:"sk-child sk-dot2"}))),!this.state.noPosts&&wp.element.createElement(l,{prevPage:this.prevPage,nextPage:this.nextPage,currentPage:this.state.resultsPage,totalPages:this.state.totalResultPages}),0<this.state.retailers.length&&!1!==this.props.showRetailerLogos&&wp.element.createElement("div",{className:"post-grid","data-loading":e,"aria-label":"Retailers Grid"},wp.element.createElement("h2",null,"Shop more Bluey"),wp.element.createElement("div",{className:"posts-container"},this.getRetailers()),e&&wp.element.createElement("div",{className:"sk-chasing-dots"},wp.element.createElement("div",{className:"sk-child sk-dot1"}),wp.element.createElement("div",{className:"sk-child sk-dot2"})))]}}])&&O(e.prototype,t),n&&O(e,n),r}()}},r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=129));